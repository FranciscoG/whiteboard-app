(this.webpackJsonpwhiteboard=this.webpackJsonpwhiteboard||[]).push([[0],{135:function(e,t,n){e.exports={placer:"placer_placer___P3AP"}},137:function(e,t,n){},17:function(e,t,n){e.exports={controls:"Tools_controls__1Nbhf",toolBtn:"Tools_toolBtn__2uH3c",pointer:"Tools_pointer__1rXRd",active:"Tools_active__3uvvl",arrowSubMenu:"Tools_arrowSubMenu__2ucIk",text:"Tools_text__382N8"}},22:function(e,t,n){e.exports={fieldset:"alignment_fieldset__2_LAT",radio:"alignment_radio__12Jza","label-1":"alignment_label-1__3AHHS","label-3":"alignment_label-3__3OE4L",wrap:"alignment_wrap__2-hle",label:"alignment_label__38TwN"}},28:function(e,t,n){e.exports={bg:"modal_bg__3tErl",bgAppear:"modal_bgAppear__2XsUD",dialog:"modal_dialog__UQRek",appear:"modal_appear__3MYo9"}},29:function(e,t,n){e.exports={inputContainer:"flyingTextInput_inputContainer__OjZHS",input:"flyingTextInput_input__12fUF",actions:"flyingTextInput_actions__iFFrY",buttonIcon:"flyingTextInput_buttonIcon__PN6tC",save:"flyingTextInput_save__2glmB",cancel:"flyingTextInput_cancel__2on8H"}},295:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/align-top.66e36ea3.svg"},296:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/align-middle.c7187bf0.svg"},297:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/align-bottom.5504fcb1.svg"},298:function(e,t,n){"use strict";n.r(t);n(137);var a=n(0),i=n.n(a),c=n(35),r=n.n(c),o=n(10),s=n(9),l=n(4),u={esc:"Escape",enter:"Enter",backspace:"Backspace",del:"Delete"},d=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},{0:"0",1:"1",2:"2",v:"v",h:"h",n:"n",p:"p",e:"e",z:"z",t:"t",space:" ",plus:"+",minus:"-","[":"[","]":"]","?":"?"}),{meta:"Meta",shift:"Shift"}),{up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",tab:"Tab"}),u),b="mouse-pointer",f="pencil",j="eraser",h="sticky-note",m="text",x=["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],v=n(43),g=n.n(v);function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return"string"===typeof e&&""!==e.trim()})).join(" ").trim()}function O(e){if(e.isContentEditable)return!0;var t=e.tagName.toLowerCase();if("textarea"===t)return!0;if("input"!==t)return!1;if(e.disabled)return!1;if(e.readonly)return!1;var n=(e.getAttribute("type")||"text").toLowerCase();return!!["date","datetime","datetime-local","email","month","number","password","search","tel","text","url","week"].includes(n)}var y=function(e){return Math.round(100*(e+Number.EPSILON))/100},w=n(24),N=Object(w.b)({name:"tool",initialState:{cursor:b,draw:{thickness:5,color:"#FF6900"}},reducers:{setTool:function(e,t){e.cursor=t.payload},setDrawColor:function(e,t){e.draw.color=t.payload},setDrawThickness:function(e,t){e.draw.thickness=t.payload},incrementThickness:function(e){40!==e.draw.thickness&&(e.draw.thickness=e.draw.thickness+1)},decrementThickness:function(e){1!==e.draw.thickness&&(e.draw.thickness=e.draw.thickness-1)}}}),_=N.actions,E=_.setTool,k=_.setDrawColor,C=_.setDrawThickness,A=_.incrementThickness,I=_.decrementThickness,S=N.reducer,T={};T[d.p]=f,T[d.e]=j,T[d.v]=b,T[d.n]=h,T[d.t]=m;var R=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(o.d)();return Object(a.useEffect)((function(){function e(e){O(document.activeElement)||(e.metaKey&&e.shiftKey&&e.key===d.z?c(v.ActionCreators.redo()):e.shiftKey||!e.metaKey||e.key!==d.z?e.key===d["["]?c(I()):e.key===d["]"]&&c(A()):c(v.ActionCreators.undo()))}function t(e){if(!O(document.activeElement)){var t=T[e.key];t&&c(E(t)),i(e.key),setTimeout((function(){i(null)}),200)}}return window.addEventListener("keyup",t),window.addEventListener("keydown",e),function(){window.removeEventListener("keyup",t),window.removeEventListener("keydown",e)}}),[c]),{lastShortcut:n}},L=n(15),M=n(136),Y=n(45),D=n.n(Y),B=n(1);var P=function(e){var t=e.id,n=e.label,i=e.hideLabel,c=void 0===i||i,r=e.step,o=void 0===r?"1":r,l=e.min,u=void 0===l?"1":l,d=e.max,b=e.startingValue,f=void 0===b?1:b,j=e.onChange,h=void 0===j?function(e){}:j,m=e.example,x=e.className,v=Object(a.useState)(f),g=Object(s.a)(v,2),O=g[0],y=g[1];return Object(a.useEffect)((function(){y(f)}),[f]),Object(B.jsxs)("div",{className:p("form-control",x,D.a.container),children:[Object(B.jsx)("label",{htmlFor:t,className:p("form-label",D.a.label,c&&"visually-hidden",!c&&"d-block"),children:n}),Object(B.jsx)("input",{className:p("form-range",D.a.range),type:"range",id:t,min:u,max:d,step:o,value:O,onChange:function(e){y(Number(e.target.value)),h(e)}}),m&&Object(B.jsx)("div",{className:D.a.example,children:m(O)})]})},z=n(46),F=n.n(z);var X={setDrawThickness:C,setDrawColor:k},q=Object(o.c)((function(e){return{draw:e.tool.draw}}),X)((function(e){var t=e.show,n=void 0!==t&&t,a=e.draw,i=e.setDrawColor,c=e.setDrawThickness;return Object(B.jsxs)("div",{className:p(F.a.settingsContainer,n&&F.a.show),children:[Object(B.jsx)(P,{className:F.a.slider,id:"drawThickness",label:"Change the thickness of the drawing tool",min:"1",max:"40",startingValue:a.thickness,onChange:function(e){c(Number(e.target.value))},example:function(e){return Object(B.jsx)("svg",{viewBox:"0 0 100 100",width:"40",height:"40",xmlns:"http://www.w3.org/2000/svg",children:Object(B.jsxs)("g",{children:[Object(B.jsx)("circle",{cx:"50%",cy:"50%",r:e,fill:a.color}),Object(B.jsx)("text",{x:"50%",y:"50%",className:F.a.px,textAnchor:"middle",dominantBaseline:"middle",children:e})]})})}}),Object(B.jsx)(M.a,{color:a.color,triangle:null,colors:x,onChange:function(e){i(e.hex)}})]})})),H=n(64),Q=n.n(H),J="mouse",U="keyboard";function G(e,t){var n=t.current,a=n.x,i=n.y,c=e.current.style,r=c.top,o=c.left;r=parseInt(r,10),o=parseInt(o,10),e.current.style.transform="translateX(".concat(a-o-7,"px) translateY(").concat(i-r-15,"px)")}var V=function(e){var t=e.id,n=e.title,c=e.children,r=e.startX,o=void 0===r?0:r,u=e.startY,b=void 0===u?0:u,f=e.onDragEnd,j=void 0===f?function(e){e.x,e.y}:f,h=Object(a.useRef)(null),m=Object(a.useRef)(null),x=Object(a.useRef)(null),v=Object(a.useRef)(!1),g=Object(a.useRef)({x:o,y:b}),O=Object(a.useRef)(null),y=Object(a.useState)(null),w=Object(s.a)(y,2),N=w[0],_=w[1];Object(a.useEffect)((function(){if(m.current=h.current.getBoundingClientRect(),x.current){var e=g.current.x-7,t=g.current.y-15;x.current.style.top="".concat(t,"px"),x.current.style.left="".concat(e,"px")}}),[]);var E=Object(a.useCallback)((function(e){g.current=function(e,t,n,a){var i=e.shiftKey?20:5;switch(e.key){case d.right:return a.x>=window.innerWidth-t?a:{x:a.x+i,y:a.y};case d.left:return a.x<=20?a:{x:a.x-i,y:a.y};case d.up:return a.y<=20?a:{x:a.x,y:a.y-i};case d.down:return a.y>=window.innerHeight-n?a:{x:a.x,y:a.y+i};default:return a}}(e,m.current.width,m.current.height,g.current),G(x,g)}),[]),k=Object(a.useCallback)((function(e){g.current=function(e,t,n,a,i){if(!t)return i;var c=e.clientX,r=e.clientY;return c>=window.innerWidth-n?c=i.x:c<=5&&(c=5),r>=window.innerHeight-a?r=i.y:r<=5&&(r=5),{x:c,y:r}}(e,v.current,m.current.width,m.current.height,g.current),G(x,g)}),[]);Object(a.useEffect)((function(){function e(){v.current&&(v.current=!1,window.removeEventListener("mousemove",k),document.body.classList.remove("cursor-grabbing"),j(g.current))}return N===J&&(window.removeEventListener("keydown",E),window.addEventListener("mousemove",k),window.addEventListener("mouseup",(function t(){e(),_(null),window.removeEventListener("mouseup",t)}))),N===U&&(e(),window.addEventListener("keydown",E)),function(){window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",e),window.removeEventListener("keydown",E)}}),[E,k,j,N]);var C=N===U?p(c.props.className,Q.a.keyMoving):c.props.className;return Object(B.jsxs)("div",{ref:x,className:p(Q.a.dragContainer),children:[Object(B.jsx)("span",{id:t,className:"visually-hidden",children:"Press space bar to grab"}),Object(B.jsx)("button",{className:Q.a.handle,onMouseDown:function(e){0===e.button&&(e.preventDefault(),v.current=!0,_(J))},onKeyUp:function(e){if(O.current)switch(e.key){case d.enter:case d.space:j(g.current),v.current=!1,O.current=null,_(null);break;case d.esc:G(x,O),v.current=!1,O.current=null,_(null)}else O.current||e.key!==d.space&&e.key!==d.enter||(O.current=Object(l.a)({},g.current),v.current=!0,_(U))},"aria-describedby":t,children:Object(B.jsx)("span",{className:"visually-hidden",children:n})}),i.a.cloneElement(c,{ref:h,className:C})]})},Z=n(131),W=n(132),K=n(133),$=n(134),ee=n(17),te=n.n(ee);var ne={setTool:E},ae=Object(o.c)((function(e){return{cursor:e.tool.cursor}}),ne)((function(e){var t=e.setTool,n=e.cursor,i=Object(a.useState)(!1),c=Object(s.a)(i,2),r=c[0],o=c[1];return Object(B.jsx)(V,{id:"drag-tools",title:"move tools anywhere on the canvas",startX:20,startY:.2*window.innerHeight,children:Object(B.jsxs)("div",{className:"shadow-light ".concat(te.a.controls),children:[Object(B.jsxs)("button",{id:"tool-".concat(b),type:"button",className:p("btn-clear",te.a.toolBtn,te.a.pointer,n===b&&te.a.active),"data-tooltip":"Select (V)",onClick:function(){o(!1),t(b)},children:[Object(B.jsx)(Z.a,{"aria-hidden":"true"}),Object(B.jsx)("span",{className:"visually-hidden",children:"Select tool"})]}),Object(B.jsxs)("button",{id:"tool-".concat(f),type:"button",className:p("btn-clear",te.a.toolBtn,n===f&&te.a.active),"data-tooltip":"Draw (P)",onClick:function(){o(!1),n===f?o(!r):t(f)},children:[Object(B.jsx)(W.a,{}),Object(B.jsx)("span",{className:"visually-hidden",children:"Pen tool"}),Object(B.jsx)("span",{className:te.a.arrowSubMenu})]}),Object(B.jsx)(q,{show:n===f&&r}),Object(B.jsxs)("button",{id:"tool-".concat(j),type:"button",className:p("btn-clear",te.a.toolBtn,n===j&&te.a.active),"data-tooltip":"Erase (E)",onClick:function(){o(!1),t(j)},children:[Object(B.jsx)($.a,{}),Object(B.jsx)("span",{className:"visually-hidden",children:"Eraser tool"})]}),Object(B.jsxs)("button",{id:"tool-".concat(h),type:"button",className:p("btn-clear",te.a.toolBtn,n===h&&te.a.active),"data-tooltip":"Note (N)",onClick:function(){o(!1),t(h)},children:[Object(B.jsx)(K.a,{}),Object(B.jsx)("span",{className:"visually-hidden",children:"Add a sticky note to the canvas"})]}),Object(B.jsxs)("button",{id:"tool-".concat(m),type:"button",className:p("btn-clear",te.a.toolBtn,n===m&&te.a.active),"data-tooltip":"Text (T)",onClick:function(){o(!1),t(m)},children:[Object(B.jsx)("span",{"aria-hidden":"true",className:te.a.text,children:"T"}),Object(B.jsx)("span",{className:"visually-hidden",children:"Add text to the canvas"})]})]})})})),ie=n(88),ce=n(301),re=Object(w.b)({name:"canvas",initialState:{lines:[],items:[]},reducers:{setLines:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{lines:t.payload})},addLine:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{lines:[].concat(Object(ie.a)(e.lines),[t.payload])})},addItem:function(e,t){if(!t.payload.type)throw new Error("item is missing a type "+JSON.stringify(t.payload));var n=e.items.map((function(e){return e.selected=!1,e}));t.payload.id=Object(ce.a)(),e.items=[].concat(Object(ie.a)(n),[t.payload])},updateItem:function(e,t){e.items=e.items.map((function(e){return e.selected=!1,e.id===t.payload.id?t.payload:e}))},deleteItem:function(e){e.items=e.items.filter((function(e){return!e.selected}))},clearSelected:function(e){e.items=e.items.map((function(e){return e.selected=!1,e}))}}}),oe=re.actions,se=oe.setLines,le=(oe.addLine,oe.addItem),ue=oe.updateItem,de=oe.deleteItem,be=oe.clearSelected,fe=function(e){return e.canvas.present.lines},je=re.reducer,he=Object(w.b)({name:"note",initialState:{activeNote:void 0,newNote:void 0},reducers:{setActiveNote:function(e,t){e.activeNote=t.payload},clearActiveNote:function(e){e.activeNote=void 0},setNewNote:function(e,t){e.newNote=t.payload},clearNewNote:function(e){e.newNote=void 0}}}),me=he.actions,xe=me.setActiveNote,ve=me.clearActiveNote,ge=me.setNewNote,pe=me.clearNewNote,Oe=he.reducer,ye=n(28),we=n.n(ye),Ne=document.getElementById("modal-root");function _e(e,t){var n=e.id,i=e.title,r=e.hideTitle,o=void 0!==r&&r,s=e.children,l=e.onHide,u=void 0===l?function(){}:l,b=Object(a.useRef)(null),f=Object(a.useRef)(null);function j(){f.current.classList.remove(we.a.appear),b.current.classList.remove(we.a.bgAppear),setTimeout(u,350)}Object(a.useEffect)((function(){return document.body.classList.add("has-dialog"),document.querySelector("#root").setAttribute("aria-hidden","true"),setTimeout((function(){f.current&&f.current.classList.add(we.a.appear),b.current&&b.current.classList.add(we.a.bgAppear)}),100),function(){document.body.classList.remove("has-dialog"),document.querySelector("#root").removeAttribute("aria-hidden")}}),[]),Object(a.useImperativeHandle)(t,(function(){return{hide:j}}));var h=Object(B.jsx)("div",{ref:b,className:we.a.bg,onKeyUp:function(e){e.key===d.esc&&j()},onClick:function(e){e.target.classList.contains(we.a.bg)&&j()},children:Object(B.jsxs)("div",{role:"dialog",id:n,"aria-labelledby":"".concat(n,"_label"),"aria-modal":"true",className:we.a.dialog,ref:f,children:[Object(B.jsx)("div",{id:"".concat(n,"_label"),className:o?"visually-hidden":null,children:i}),s]})});return Object(c.createPortal)(h,Ne)}var Ee=Object(a.forwardRef)(_e),ke=n(65),Ce=n.n(ke);var Ae=function(e){var t=e.className,n=e.selected,i=e.palette,c=e.onSelectColor,r=void 0===c?function(e){}:c,o=Object(a.useState)(n),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(B.jsxs)("fieldset",{className:p(Ce.a.fieldset,t),children:[Object(B.jsx)("legend",{className:"visually-hidden",children:"Select a color"}),i.map((function(e){return Object(B.jsxs)("div",{className:"form-group ".concat(Ce.a.wrap),children:[Object(B.jsx)("input",{className:Ce.a.radio,type:"radio",name:"color",id:"color-".concat(e),checked:e===u,onChange:function(e){d(e.target.value),r(e.target.value)},value:e}),Object(B.jsx)("label",{htmlFor:"color-".concat(e),style:{backgroundColor:e},children:e})]},e)}))]})},Ie=n(22),Se=n.n(Ie),Te={left:n(292).default,center:n(293).default,right:n(294).default,top:n(295).default,middle:n(296).default,bottom:n(297).default};var Re=function(e){var t=e.className,n=e.selectedHorizontal,i=void 0===n?"center":n,c=e.selectedVertical,r=void 0===c?"middle":c,o=e.onChangeHorizontal,l=e.onChangeVertical,u=Object(a.useState)(i),d=Object(s.a)(u,2),b=d[0],f=d[1],j=Object(a.useState)(r),h=Object(s.a)(j,2),m=h[0],x=h[1];return Object(B.jsxs)("div",{className:p("d-flex justify-content-around",t),children:[Object(B.jsxs)("fieldset",{className:Se.a.fieldset,children:[Object(B.jsx)("legend",{className:"visually-hidden",children:"Select a horizontal alignment"}),["left","center","right"].map((function(e,t){return Object(B.jsxs)("div",{className:p("form-group",Se.a.wrap),children:[Object(B.jsx)("input",{className:Se.a.radio,type:"radio",name:"horizontal",id:"align-horiz-".concat(e),checked:e===b,onChange:function(e){f(e.target.value),o(e.target.value)},value:e,title:e}),Object(B.jsxs)("label",{className:p(Se.a.label,Se.a["label-".concat(t+1)]),htmlFor:"align-horiz-".concat(e),children:[Object(B.jsx)("img",{"aria-invalid":"true",alt:"",src:Te[e]}),Object(B.jsx)("span",{className:"visually-hidden",children:e})]})]},"align-horiz-".concat(e))}))]}),Object(B.jsxs)("fieldset",{className:Se.a.fieldset,children:[Object(B.jsx)("legend",{className:"visually-hidden",children:"Select a vertical alignment"}),["top","middle","bottom"].map((function(e,t){return Object(B.jsxs)("div",{className:p("form-group",Se.a.wrap),children:[Object(B.jsx)("input",{className:Se.a.radio,type:"radio",name:"vertical",id:"align-vert-".concat(e),checked:e===m,onChange:function(e){x(e.target.value),l(e.target.value)},value:e,title:e}),Object(B.jsxs)("label",{className:p(Se.a.label,Se.a["label-".concat(t+1)]),htmlFor:"align-vert-".concat(e),children:[Object(B.jsx)("img",{"aria-invalid":"true",alt:"",src:Te[e]}),Object(B.jsx)("span",{className:"visually-hidden",children:e})]})]},"align-vert-".concat(e))}))]})]})},Le=n(39),Me=n.n(Le),Ye=["#feff9c","#6ed2d0","#def350","#ff6b81","#ff339a","#ff992a"],De={type:h,id:null,x:null,y:null,width:300,height:300,text:"",fontSize:32,color:Ye[0],scaleX:.75,scaleY:.75,rotation:0,align:"center",verticalAlign:"middle"};var Be={updateItem:ue,setNewNote:ge},Pe=Object(o.c)(null,Be)((function(e){var t=e.onSave,n=void 0===t?function(){}:t,i=e.onCancel,c=void 0===i?function(){}:i,r=e.onClose,o=void 0===r?function(){}:r,l=e.note,u=void 0===l?De:l,d=e.x,b=e.y,f=e.updateItem,j=e.setNewNote,h=Object(a.useState)(u.text),m=Object(s.a)(h,2),x=m[0],v=m[1],g=Object(a.useState)(u.fontSize),O=Object(s.a)(g,2),y=O[0],w=O[1],N=Object(a.useState)(u.color),_=Object(s.a)(N,2),E=_[0],k=_[1],C=Object(a.useState)(u.align),A=Object(s.a)(C,2),I=A[0],S=A[1],T=Object(a.useState)(u.verticalAlign),R=Object(s.a)(T,2),L=R[0],M=R[1],Y=Object(a.useRef)(null),D=Object(a.useRef)(null),z=Object(a.useRef)(null);return Object(a.useEffect)((function(){Y.current&&Y.current.focus()}),[Y]),Object(B.jsx)(Ee,{id:"addNote",title:"Add Sticky Note",hideTitle:!0,ref:z,onHide:function(){o()},children:Object(B.jsx)("div",{children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={text:x,fontSize:y,color:E,align:I,verticalAlign:L};if(u.id)f(Object.assign({},u,t));else{t.x=d,t.y=b;var a=D.current.getBoundingClientRect();t.origin={x:a.x,y:a.y},j(Object.assign({},u,t))}n(),z.current.hide()},children:[Object(B.jsxs)("div",{ref:D,style:{backgroundColor:E},className:p("form-group","flex-center",Me.a.note),children:[Object(B.jsx)("label",{className:"visually-hidden",id:"stickyNoteLabel",children:"Enter your sticky note text"}),Object(B.jsx)("div",{className:Me.a.textContainer,children:Object(B.jsx)("div",{ref:Y,style:{fontSize:y+"px",textAlign:I,verticalAlign:L},role:"textbox","aria-multiline":"true","aria-labelledby":"stickyNoteLabel","aria-required":"true",className:Me.a.textEdit,contentEditable:!0,suppressContentEditableWarning:!0,tabIndex:0,onInput:function(e){v(e.target.textContent)},children:u.text})})]}),Object(B.jsxs)("div",{className:Me.a.actions,children:[Object(B.jsx)(P,{hideLabel:!1,id:"noteFontSize",label:"Change the font size",min:"32",max:"128",startingValue:y,onChange:function(e){w(Number(e.target.value))}}),Object(B.jsx)(Re,{className:"mb-3",selectedHorizontal:I,selectedVertical:L,onChangeHorizontal:function(e){S(e)},onChangeVertical:function(e){M(e)}}),Object(B.jsx)("div",{className:p("p-2",Me.a.colors),children:Object(B.jsx)(Ae,{selected:E,palette:Ye,onSelectColor:function(e){k(e)}})}),Object(B.jsxs)("div",{className:"d-flex justify-content-end mt-4 pe-2",children:[Object(B.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){e.preventDefault(),c(),z.current.hide()},children:"cancel"}),Object(B.jsx)("button",{className:"btn btn-primary ms-2",type:"submit",children:"save"})]})]})]})})})})),ze=n(2),Fe=n.n(ze);Fe.a.shape({tool:Fe.a.string.isRequired,color:Fe.a.string.isRequired,thickness:Fe.a.number.isRequired,points:Fe.a.arrayOf(Fe.a.number).isRequired});var Xe=function(e){var t=e.line;return t?Object(B.jsx)(L.c,{points:t.points,stroke:t.color,strokeWidth:t.tool===j?20:t.thickness,tension:.5,lineCap:t.tool===j?"square":"round",globalCompositeOperation:t.tool===j?"destination-out":"source-over"}):null};var qe=function(e){var t=e.lines,n=void 0===t?[]:t;return Object(B.jsx)(B.Fragment,{children:n.map((function(e,t){return Object(B.jsx)(Xe,{line:e},"line-".concat(t))}))})},He=n(63);var Qe=function(e){var t=e.enabled,n=void 0!==t&&t,c=e.onTransformEnd,r=e.onTransform,o=void 0===r?function(e,t){}:r,s=e.minWidth,u=void 0===s?100:s,d=e.minHeight,b=void 0===d?100:d,f=e.withRef,j=void 0===f?null:f,h=e.children,m=e.anchors,x=void 0===m?["top-left","top-right","bottom-right","bottom-left"]:m,v=e.keepRatio,g=void 0===v||v,p=e.rotateEnabled,O=void 0===p||p,y=Object(He.a)(e,["enabled","onTransformEnd","onTransform","minWidth","minHeight","withRef","children","anchors","keepRatio","rotateEnabled"]),w=Object(a.useRef)(null),N=Object(a.useRef)(null);return Object(a.useEffect)((function(){n&&N.current&&(N.current.nodes([w.current]),N.current.getLayer().batchDraw())}),[n]),Object(a.useEffect)((function(){"function"===typeof j&&w.current&&j(w)}),[w,j]),Object(B.jsxs)(B.Fragment,{children:[i.a.cloneElement(h,{ref:w,onTransformEnd:function(e){c(w.current,e)},onTransform:function(e){o(w.current,e)}}),n&&Object(B.jsx)(L.g,Object(l.a)(Object(l.a)({},y),{},{ref:N,keepRatio:g,rotateEnabled:O,enabledAnchors:x,boundBoxFunc:function(e,t){return t.width<u||t.height<b?e:t}}))]})};Fe.a.shape({id:Fe.a.string,x:Fe.a.number.isRequired,y:Fe.a.number.isRequired,width:Fe.a.number.isRequired,height:Fe.a.number.isRequired,text:Fe.a.string.isRequired,fontSize:Fe.a.number.isRequired,color:Fe.a.string.isRequired,scaleX:Fe.a.number,scaleY:Fe.a.number,rotation:Fe.a.number,align:Fe.a.string,verticalAlign:Fe.a.string});var Je={addItem:le,updateItem:ue,setActiveNote:xe,clearNewNote:pe},Ue=Object(o.c)((function(e){return{currentTool:e.tool.cursor}}),Je)((function(e){var t=e.note,n=e.setActiveNote,a=e.currentTool,i=e.clearNewNote,c=e.addItem,r=e.updateItem;return Object(B.jsx)(Qe,{enabled:t.selected&&a===b,onTransformEnd:function(e){r(Object(l.a)(Object(l.a)({},t),{},{x:e.x(),y:e.y(),scaleX:e.scaleX(),scaleY:e.scaleY(),rotation:e.rotation()}))},withRef:function(e){e.current&&t.origin&&e.current.to({x:t.x,y:t.y,duration:.2,onFinish:function(){c(Object(l.a)(Object(l.a)({},t),{},{origin:null})),i()}})},children:Object(B.jsxs)(L.a,{draggable:a===b,x:t.origin?t.origin.x:t.x,y:t.origin?t.origin.y:t.y,rotation:t.rotation,onClick:function(e){2!==e.evt.detail||n(t)},onDragEnd:function(e){r(Object(l.a)(Object(l.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onMouseDown:function(e){1!==e.evt.detail||t.selected||r(Object(l.a)(Object(l.a)({},t),{},{selected:!0}))},scaleX:t.scaleX,scaleY:t.scaleY,children:[Object(B.jsx)(L.d,{fill:t.color,width:t.width,height:t.height,shadowOffsetX:0,shadowOffsetY:5,shadowBlur:3,shadowEnabled:!0,shadowColor:"#3c4043",shadowOpacity:.26}),Object(B.jsx)(L.f,{width:t.width,height:t.height,padding:10,text:t.text,fontSize:t.fontSize,fontFamily:"sans-serif",fill:"#000000",align:t.align,verticalAlign:t.verticalAlign,fontStyle:"bold"})]})})})),Ge=n(36),Ve=Object(w.b)({name:"text",initialState:{activeText:void 0},reducers:{setActiveText:function(e,t){e.activeText=t.payload},clearActiveText:function(e){e.activeText=void 0}}}),Ze=Ve.actions,We=Ze.setActiveText,Ke=Ze.clearActiveText,$e=Ve.reducer;Fe.a.shape({id:Fe.a.string,x:Fe.a.number.isRequired,y:Fe.a.number.isRequired,width:Fe.a.number.isRequired,height:Fe.a.number.isRequired,text:Fe.a.string,fontSize:Fe.a.number.isRequired,color:Fe.a.string.isRequired,scaleX:Fe.a.number,scaleY:Fe.a.number,rotation:Fe.a.number});var et={updateItem:ue,setActiveText:We},tt=Object(o.c)((function(e){return{currentTool:e.tool.cursor,currentActiveText:e.text.activeText}}),et)((function(e){var t=e.data,n=e.updateItem,i=e.setActiveText,c=e.currentTool,r=e.currentActiveText,o=Object(a.useRef)({scaleX:1,scaleY:1}),s=Object(Ge.a)((function(e){var t=y(e.scaleX()),n=y(e.scaleY());t===o.current.scaleX&&n===o.current.scaleY||(t===o.current.scaleX||n!==o.current.scaleY?o.current={scaleX:t,scaleY:n}:e.setAttrs({scaleX:o.current.scaleX,width:Math.max(e.width()*t,40)}))}),5);return Object(B.jsx)(Qe,{anchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],minWidth:40,minHeight:40,keepRatio:!0,enabled:t.selected&&c===b&&(null===r||void 0===r?void 0:r.id)!==t.id,onTransformEnd:function(e){var a=y(e.scaleX()),i=y(e.scaleY());n(Object(l.a)(Object(l.a)({},t),{},{x:e.x(),y:e.y(),scaleX:a,scaleY:i,rotation:e.rotation()}))},onTransform:s,children:Object(B.jsx)(L.f,{draggable:c===b,x:t.x,y:t.y,rotation:t.rotation,onClick:function(e){2!==e.evt.detail||i(t)},onDragEnd:function(e){n(Object(l.a)(Object(l.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onMouseDown:function(e){1!==e.evt.detail||t.selected||n(Object(l.a)(Object(l.a)({},t),{},{selected:!0}))},scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,height:t.height,text:(null===r||void 0===r?void 0:r.id)===t.id?"":t.text,fontSize:t.fontSize,fontFamily:"sans-serif",fill:"#000000",align:"left",verticalAlign:"top",fontStyle:"bold",lineHeight:1.5})})}));function nt(e){var t=e.item;switch(t.type){case h:return Object(B.jsx)(Ue,{note:t},t.id);case m:return Object(B.jsx)(tt,{data:t},t.id);default:return null}}var at=function(e){var t=e.items,n=e.lines,a=e.newNote;return Object(B.jsxs)(L.b,{children:[Object(B.jsx)(qe,{lines:n}),t.map((function(e){return Object(B.jsx)(nt,{item:e},e.id)})),a&&Object(B.jsx)(Ue,{note:a})]})},it=n(135),ct=n.n(it);var rt=function(e){var t=e.width,n=e.height,i=e.onFinish,c=e.onCancel,r=Object(a.useRef)(null);return Object(a.useEffect)((function(){function e(e){r.current&&(r.current.style.top="".concat(e.clientY,"px"),r.current.style.left="".concat(e.clientX,"px"))}function t(e){i(e.clientX,e.clientY,e)}function n(e){e.key===u.esc&&c()}return window.addEventListener("mousemove",e),window.addEventListener("click",t),window.addEventListener("keyup",n),function(){window.removeEventListener("mousemove",e),window.removeEventListener("click",t),window.removeEventListener("keyup",n)}}),[c,i]),Object(B.jsx)("div",{ref:r,style:{width:"".concat(t,"px"),height:"".concat(n,"px")},className:ct.a.placer})};var ot=function(e){var t=e.text,n=e.icon,a=e.onClick,i=Object(He.a)(e,["text","icon","onClick"]);return Object(B.jsxs)("button",Object(l.a)(Object(l.a)({},i),{},{type:"button",onClick:a,children:[Object(B.jsx)("img",{src:n,alt:"","aria-hidden":"true"}),Object(B.jsx)("span",{className:"visually-hidden",role:"presentation",children:t})]}))},st=n.p+"static/media/check.f3aa198b.svg",lt=n.p+"static/media/times.c302e2b3.svg",ut=n(29),dt=n.n(ut),bt={type:m,x:0,y:0,width:null,height:null,text:"",fontSize:32,color:"#000000",scaleX:1,scaleY:1,rotation:0};var ft=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,c=void 0===i?0:i,r=e.textData,o=void 0===r?bt:r,u=e.onSave,b=e.onCancel,f=Object(a.useRef)(null),j=Object(a.useState)({x:n,y:c}),h=Object(s.a)(j,2),m=h[0],x=h[1],v=Object(a.useState)(o.text),g=Object(s.a)(v,2),O=g[0],y=g[1];function w(){if(O.trim()){var e=f.current.getBoundingClientRect();u(Object(l.a)(Object(l.a)(Object(l.a)({},o),m),{},{width:e.width,height:e.height,text:O.trim()}))}else b()}Object(a.useEffect)((function(){f.current&&f.current.focus()}),[]);var N=o.width?{width:o.width}:{width:400};return Object(B.jsx)(V,{id:"flyingTextInput",title:"Move text input anywhere on the canvas",startX:n,startY:c-25,onDragEnd:function(e){console.log(e,"flyingtext input drag end"),x(e)},children:Object(B.jsxs)("div",{className:dt.a.inputContainer,children:[Object(B.jsx)("div",{className:"visually-hidden",id:"enterText",children:"Add text to canvas"}),Object(B.jsx)("div",{ref:f,style:N,autoCorrect:"off",autoCapitalize:"off",role:"textbox","aria-multiline":"true","aria-labelledby":"enterText",className:dt.a.input,contentEditable:!0,suppressContentEditableWarning:!0,tabIndex:0,onKeyUp:function(e){e.key!==d.esc?y(e.target.textContent):b()},onBlur:function(e){e.relatedTarget instanceof HTMLButtonElement&&"flyingText_cancel"===e.relatedTarget.id?console.log(e.relatedTarget.id):w()},children:o.text}),Object(B.jsxs)("div",{className:dt.a.actions,children:[Object(B.jsx)(ot,{id:"flyingText_cancel",className:p("btn-clear",dt.a.buttonIcon,dt.a.cancel),text:"cancel",icon:lt,onClick:function(e){e.preventDefault(),b()}}),Object(B.jsx)(ot,{id:"flyingText_save",className:p("btn-clear",dt.a.buttonIcon,dt.a.save),text:"save",icon:st,onClick:w})]})]})})};function jt(e,t,n){var a=e.target.getStage().getPointerPosition(),i=n[n.length-1];return i.points=t===f?i.points.concat([a.x,a.y+26]):i.points.concat([a.x+13,a.y+13]),n.splice(n.length-1,1,i),Array.from(n)}var ht=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useRef)(!1),r=Object(a.useRef)(!1),l=Object(o.d)(),u=Object(o.e)((function(e){return e.tool.draw.color})),d=Object(o.e)((function(e){return e.tool.draw.thickness})),b=Object(o.e)((function(e){return e.tool.cursor})),j=Object(o.e)(fe);return Object(a.useEffect)((function(){i(j)}),[j,i]),{lines:n,drawMouseDown:function(e){if(0===e.evt.button){c.current=!0;var t=e.target.getStage().getPointerPosition();if(b===f){var a=Array.from(n);a.push({tool:b,color:u,thickness:d,points:[t.x,t.y+26]}),i(a)}else{var r=Array.from(n);r.push({tool:b,color:u,thickness:d,points:[t.x+13,t.y+13]}),i(r)}}},drawMouseMove:function(e){c.current&&(r.current=!0,i(jt(e,b,n)))},drawMouseUp:function(e){c.current=!1,r.current?r.current=!1:i(jt(e,b,n)),setTimeout((function(){l(se(n))}),1)}}},mt={status:{isIdle:!0,isPlacing:!1,isPlaced:!1},position:{x:0,y:0}};function xt(e,t){switch(t.type){case"IDLE":return Object(l.a)(Object(l.a)({},e),{},{status:{isIdle:!0,isPlacing:!1,isPlaced:!1}});case"PLACING":return Object(l.a)(Object(l.a)({},e),{},{status:{isIdle:!1,isPlacing:!0,isPlaced:!1}});case"PLACED":return{position:Object(l.a)({},t.payload),status:{isIdle:!1,isPlacing:!1,isPlaced:!0}};default:throw new Error("Unhandled action: ".concat(t))}}var vt=function(e,t){var n=Object(a.useReducer)(xt,mt),i=Object(s.a)(n,2),c=i[0],r=i[1];function o(){r({type:"IDLE"})}return Object(a.useEffect)((function(){c.status.isIdle&&e===t?r({type:"PLACING"}):e!==t&&c.status.isPlacing&&o()}),[t,c.status.isIdle,c.status.isPlacing,e]),{state:c.status,position:c.position,reset:o,placed:function(e,t){r({type:"PLACED",payload:{x:e,y:t}})}}};var gt=n(37),pt=n.n(gt);pt.a.pixelRatio=1;var Ot={setTool:E,clearActiveNote:ve,clearActiveText:Ke,deleteItem:de,addItem:le,updateItem:ue,clearSelected:be},yt=Object(o.c)((function(e){return{currentTool:e.tool.cursor,canvasItems:e.canvas.present,editNote:e.note.activeNote,newNote:e.note.newNote,editText:e.text.activeText}}),Ot)((function(e){var t=e.currentTool,n=e.setTool,i=e.canvasItems,c=e.editNote,r=e.clearActiveNote,l=e.newNote,u=e.lastShortcut,x=e.clearActiveText,v=e.editText,g=e.deleteItem,p=e.addItem,O=e.updateItem,y=e.clearSelected,w=Object(a.useRef)(null),N=ht(),_=N.lines,E=N.drawMouseDown,k=N.drawMouseMove,C=N.drawMouseUp,A=Object(a.useState)(!1),I=Object(s.a)(A,2),S=I[0],T=I[1],R=vt(h,t),M=vt(m,t),Y=Object(a.useRef)(null),D=new Image;return D.onload=function(){T(!0)},D.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAB50lEQVR4Xu3VPU9UUQAG4UMClAQlrBRrIVJLKf+/glJqPgq2kDWCoVsw0YSCim4p5obn/oCTuTN5z9lYrVb/hi9jYEOQTItnEEFaPQSJ9RBEkJqBGI83RJCYgRiOhQgSMxDDsRBBYgZiOBYiSMxADMdCBIkZiOFYiCAxAzEcCxEkZiCGYyGCxAzEcCxEkJiBGI6FCBIzEMOxEEFiBmI4FiJIzEAMx0IEiRmI4ViIIDEDMRwLESRmIIZjIYLEDMRwLESQmIEYjoUIEjMQw5nMQh6f/o7F7Z+x/P0wZns7Y/5pd2xvbcZ0ro8zmSBXN7/G2fnFyx9//3Y0Dj/vr28gdsJkgpz+uBzXi+WLvi/z2Tg5/hrTuT7OZIJYyPqx3/SE5zfk5/1Y3j2M2cedMT/44A15U8MOe9XAZK6s99JPkFhpQQSJGYjhWIggMQMxHAsRJGYghmMhgsQMxHAsRJCYgRiOhQgSMxDDsRBBYgZiOBYiSMxADMdCBIkZiOFYiCAxAzEcCxEkZiCGYyGCxAzEcCxEkJiBGI6FCBIzEMOxEEFiBmI4FiJIzEAMx0IEiRmI4ViIIDEDMRwLESRmIIZjIYLEDMRwLESQmIEYjoUIEjMQw7EQQWIGYjgWIkjMQAzHQgSJGYjh/Adx+KvcF/eo4AAAAABJRU5ErkJggg==",Object(a.useEffect)((function(){var e=null;function t(e){Y.current=null,e.key!==d.del&&e.key!==d.backspace||g()}function n(e){Y.current=e.key}return w.current&&((e=w.current.getContainer()).addEventListener("keyup",t),e.addEventListener("keydown",n)),function(){e&&(e.removeEventListener("keyup",t),e.removeEventListener("keydown",n))}}),[g]),Object(a.useEffect)((function(){u===d.esc&&(R.state.isPlacing?R.reset():M.state.isPlacing?M.reset():i.items.find((function(e){return e.selected}))&&y())}),[u,R,M,i.items,y]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(o.b.Consumer,{children:function(e){var n=e.store;return Object(B.jsxs)(L.e,{ref:w,width:3800,height:3105,tabIndex:0,onWheel:function(e){e.evt.preventDefault(),e.target instanceof pt.a.Stage&&function(e,t,n){var a=e.scaleX(),i=e.getPointerPosition(),c=(i.x-e.x())/a,r=(i.y-e.y())/a,o=t<0?a*n:a/n;e.scale({x:o,y:o});var s={x:i.x-c*o,y:i.y-r*o};e.position(s),e.batchDraw()}(e.target,e.evt.deltaY,1.05)},onMouseDown:function(e){Y.current===d.space?e.target.draggable(!0):t!==f&&t!==j||E(e)},onMousemove:function(e){t!==f&&t!==j||k(e)},onMouseup:function(e){e.target.draggable(!1),t!==f&&t!==j||C(e),(e.target instanceof pt.a.Stage||e.target instanceof pt.a.Line)&&y()},className:"whiteboard cursor-".concat(t),children:[Object(B.jsx)(L.b,{listening:!1,children:S&&Object(B.jsx)(L.d,{x:0,y:0,width:3800,height:3105,fillPatternImage:D,listening:!1})}),Object(B.jsx)(o.a,{store:n,children:Object(B.jsx)(at,{items:i.items,lines:_,newNote:l})})]})}}),R.state.isPlacing&&Object(B.jsx)(rt,{width:225,height:225,onFinish:function(e,t){R.placed(e,t)},onCancel:function(){R.reset(),n(b)}}),M.state.isPlacing&&Object(B.jsx)(rt,{width:"400",height:"80",onFinish:function(e,t){M.placed(e,t)},onCancel:function(){M.reset(),n(b)}}),Object(B.jsx)(ae,{}),M.state.isPlaced&&Object(B.jsx)(ft,{x:M.position.x,y:M.position.y,onSave:function(e){p(e),n(b),x(),M.reset()},onCancel:function(){n(b),x(),M.reset()}}),v&&Object(B.jsx)(ft,{x:v.x,y:v.y,textData:v,onSave:function(e){O(e),n(b),x()},onCancel:function(){n(b),x()}}),(R.state.isPlaced||c)&&Object(B.jsx)(Pe,{note:c,x:R.position.x,y:R.position.y,onClose:function(){n(b),r(),R.reset()}})]})}));var wt=function(){var e=R().lastShortcut;return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(yt,{lastShortcut:e})})},Nt=n(19),_t=Object(Nt.c)({tool:S,canvas:g()(je),note:Oe,text:$e}),Et=Object(w.a)({reducer:_t});r.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(o.a,{store:Et,children:Object(B.jsx)(wt,{})})}),document.getElementById("root"))},39:function(e,t,n){e.exports={note:"addNoteModal_note__gFYx9",textarea:"addNoteModal_textarea__12CPn",textContainer:"addNoteModal_textContainer__2ESK8",textEdit:"addNoteModal_textEdit__2C1sA",actions:"addNoteModal_actions__OuQAq",colors:"addNoteModal_colors__iM_1T"}},45:function(e,t,n){e.exports={container:"slider_container__2Tm_d",range:"slider_range__1xNOW",example:"slider_example__313gz"}},46:function(e,t,n){e.exports={settingsContainer:"drawSettings_settingsContainer__3BARp",show:"drawSettings_show__1IpqZ",slider:"drawSettings_slider__s1xYo",px:"drawSettings_px__239md"}},64:function(e,t,n){e.exports={dragContainer:"draggable_dragContainer__37P1o",handle:"draggable_handle__2zrDe",keyMoving:"draggable_keyMoving__j1IX4"}},65:function(e,t,n){e.exports={fieldset:"colorPicker_fieldset__B-ZSC",radio:"colorPicker_radio__2wjUZ",wrap:"colorPicker_wrap___SnW6"}}},[[298,1,2]]]);
//# sourceMappingURL=main.dcb2e217.chunk.js.map