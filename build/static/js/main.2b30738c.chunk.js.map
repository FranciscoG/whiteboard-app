{"version":3,"sources":["components/placer/index.module.scss","features/tools/Tools.module.css","components/modal/modal.module.css","utils/KEYS.js","features/tools/constants.js","utils/index.js","features/tools/toolSlice.js","hooks/useShortcuts.js","components/slider/index.js","features/tools/drawSettings/index.js","components/draggable/index.js","features/tools/index.js","canvas/canvasSlice.js","features/note/noteSlice.js","components/modal/index.js","components/colorPicker/index.js","features/note/addNoteModal/index.js","features/draw/line.js","features/draw/index.js","components/Transformable/index.js","features/note/index.js","features/text/textSlice.js","features/text/index.js","canvas/layerManager.js","components/placer/index.js","features/text/flyingTextInput/index.js","features/draw/useDraw.js","hooks/usePlacing.js","canvas/index.js","assets/bg-pattern2.png","app/App.js","app/rootReducer.js","app/store.js","index.js","features/note/addNoteModal/addNoteModal.module.css","components/slider/slider.module.css","features/tools/drawSettings/drawSettings.module.css","components/draggable/draggable.module.scss","components/colorPicker/colorPicker.module.scss","features/text/flyingTextInput/index.module.scss"],"names":["module","exports","ACTIONS","esc","enter","backspace","del","all","v","h","n","p","e","z","t","space","plus","minus","meta","shift","up","down","left","right","tab","POINTER","DRAW","ERASE","NOTE","TEXT","lineColors","cn","classNames","filter","cls","trim","join","isEditable","el","isContentEditable","tagName","toLowerCase","disabled","readonly","type","getAttribute","includes","toolSlice","createSlice","name","initialState","cursor","draw","thickness","color","reducers","setTool","state","action","payload","setDrawColor","setDrawThickness","actions","ACTIONS_MAP","KEYS","useShortcuts","useState","lastShortcut","setLastShortcut","dispatch","useDispatch","useEffect","onKeyDown","document","activeElement","metaKey","shiftKey","key","ActionCreators","redo","undo","onKeyUp","matchingAction","setTimeout","window","addEventListener","removeEventListener","Slider","id","label","hideLabel","step","min","max","startingValue","onChange","example","className","value","setValue","styles","container","htmlFor","range","Number","target","mapDispatchToProps","connect","tool","show","settingsContainer","slider","viewBox","width","height","xmlns","cx","cy","r","fill","x","y","px","textAnchor","dominantBaseline","triangle","colors","c","hex","Draggable","children","startX","startY","onDragEnd","childRef","useRef","isDragging","isUsingKeys","isKeyDragging","setIsKeyDragging","rect","pos","setPos","current","getBoundingClientRect","onKeyMove","useCallback","spaces","innerWidth","innerHeight","disableKeys","disableMouse","onMouseMove","body","classList","remove","clientX","clientY","finalClass","props","keyMoving","dragContainer","style","top","handle","onMouseDown","button","preventDefault","add","aria-describedby","React","cloneElement","ref","showSettings","setShowSettings","controls","toolBtn","pointer","active","data-tooltip","onClick","arrowSubMenu","text","canvasSlice","lines","items","setLines","addLine","addItem","Error","JSON","stringify","deselected","map","selected","uuidv1","updateItem","deleteItem","selectLines","canvas","present","noteSlice","activeNote","undefined","newNote","setActiveNote","clearActiveNote","setNewNote","clearNewNote","modalContainer","getElementById","Modal","title","hideTitle","onHide","bgRef","dialogRef","animatedHide","appear","bgAppear","querySelector","setAttribute","removeAttribute","useImperativeHandle","hide","content","bg","contains","role","aria-labelledby","aria-modal","dialog","createPortal","forwardRef","ColorPicker","palette","onSelectColor","setActive","fieldset","wrap","radio","checked","backgroundColor","ColorPalette","defaultNote","fontSize","scaleX","scaleY","rotation","matchDispatchToProps","onSave","onCancel","onClose","note","editText","setEditText","setFontSize","currentColor","setCurrentColor","noteRef","noteWrapRef","modalRef","focus","onSubmit","Object","assign","bounds","origin","textContainer","aria-multiline","aria-required","textEdit","contentEditable","suppressContentEditableWarning","tabIndex","onInput","textContent","PropTypes","shape","string","isRequired","number","points","arrayOf","DrawSingleLine","line","stroke","strokeWidth","tension","lineCap","globalCompositeOperation","Draw","i","Transformable","enabled","onTransformEnd","onTransform","node","minWidth","minHeight","withRef","anchors","keepRatio","rotateEnabled","transformProps","nodeRef","trRef","nodes","getLayer","batchDraw","enabledAnchors","boundBoxFunc","oldBox","newBox","currentTool","to","duration","onFinish","draggable","evt","detail","shadowOffsetX","shadowOffsetY","shadowBlur","shadowEnabled","shadowColor","shadowOpacity","fontFamily","align","verticalAlign","fontStyle","textSlice","activeText","setActiveText","clearActiveText","currentActiveText","data","w","Math","setAttrs","lineHeight","DrawItem","item","LayerManager","find","Placer","onMove","placer","defaultText","FlyingTextInput","textData","positionRef","inputRef","styleObj","console","log","inputContainer","autoCorrect","autoCapitalize","input","onBlur","connectPoints","point","getStage","getPointerPosition","lastLine","length","concat","TOOL_SIZE","splice","Array","from","useDraw","isDrawing","isMoving","useSelector","linesFromState","drawMouseDown","newLines","push","drawMouseMove","drawMouseUp","reducerSetLine","setDrawTool","states","isPlacing","isPlaced","usePlacing","index","currentState","setCurrentState","position","setPosition","reset","next","canvasItems","editNote","stageDim","setStageDim","bgImageLoadded","setBgImageLoadded","notePlacing","textPlacing","bgImage","Image","onload","src","debouncedResize","debounce","Consumer","store","onMousemove","onMouseup","listening","fillPatternImage","updatedTextData","App","combineReducers","toolReducer","undoable","canvasReducer","noteReducer","textReducer","configureStore","reducer","rootReducer","ReactDOM","render","StrictMode"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,OAAS,yB,yCCA3BD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,QAAU,uBAAuB,QAAU,uBAAuB,OAAS,sBAAsB,aAAe,4BAA4B,KAAO,sB,mBCAxMD,EAAOC,QAAU,CAAC,GAAK,kBAAkB,SAAW,wBAAwB,OAAS,sBAAsB,OAAS,wB,0GC2BvGC,EAAU,CACrBC,IAAK,SACLC,MAAO,QACPC,UAAW,YACXC,IAAK,UAgBQC,EAPN,mDAxCW,CAClB,EAAK,IACL,EAAK,IACL,EAAK,IACLC,EAAI,IACJC,EAAI,IACJC,EAAI,IACJC,EAAI,IACJC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,MAAO,IACPC,KAAM,IACNC,MAAO,IACP,IAAK,IACL,IAAK,IACL,IAAM,MAkBiB,CACvBC,KAAM,OACNC,MAAO,UAjBa,CACpBC,GAAI,UACJC,KAAM,YACNC,KAAM,YACNC,MAAO,aACPC,IAAK,QAoBFtB,GC3CQuB,EAAU,gBACVC,EAAO,SACPC,EAAQ,SACRC,EAAO,cACPC,EAAO,OAEPC,EAAa,CACxB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,W,iBCbK,SAASC,IAAmB,IAAD,uBAAZC,EAAY,yBAAZA,EAAY,gBAChC,OAAOA,EACJC,QAAO,SAACC,GAGP,MAAsB,kBAARA,GAAmC,KAAfA,EAAIC,UAEvCC,KAAK,KACLD,OAGE,SAASE,EAAWC,GACzB,GAAIA,EAAGC,kBAAmB,OAAO,EACjC,IAAMC,EAAUF,EAAGE,QAAQC,cAC3B,GAAgB,aAAZD,EAAwB,OAAO,EACnC,GAAgB,UAAZA,EAAqB,OAAO,EAChC,GAAIF,EAAGI,SAAU,OAAO,EACxB,GAAIJ,EAAGK,SAAU,OAAO,EAExB,IAAMC,GAAQN,EAAGO,aAAa,SAAW,QAAQJ,cAgBjD,QAdmB,CACjB,OACA,WACA,iBACA,QACA,QACA,SACA,WACA,SACA,MACA,OACA,MACA,QAEaK,SAASF,G,YCpCpBG,EAAYC,YAAY,CAC5BC,KAAM,OACNC,aAAc,CACZC,OAAQ1B,EACR2B,KAAM,CACJC,UAAW,EACXC,MAAO,YAGXC,SAAU,CACRC,QADQ,SACAC,EAAOC,GACbD,EAAMN,OAASO,EAAOC,SAExBC,aAJQ,SAIKH,EAAOC,GAClBD,EAAML,KAAKE,MAAQI,EAAOC,SAE5BE,iBAPQ,SAOSJ,EAAOC,GACtBD,EAAML,KAAKC,UAAYK,EAAOC,Y,EAKuBZ,EAAUe,QAAtDN,E,EAAAA,QAASI,E,EAAAA,aAAcC,E,EAAAA,iBAEvBd,IAAf,QCnBMgB,EAAc,GACpBA,EAAYC,EAAKrD,GAAKe,EACtBqC,EAAYC,EAAKpD,GAAKe,EACtBoC,EAAYC,EAAKxD,GAAKiB,EACtBsC,EAAYC,EAAKtD,GAAKkB,EACtBmC,EAAYC,EAAKlD,GAAKe,EAmDPoC,MAjDf,WAAyB,IAAD,EACkBC,mBAAS,MAD3B,mBACfC,EADe,KACDC,EADC,KAEhBC,EAAWC,cA4CjB,OA1CAC,qBAAU,WACR,SAASC,EAAU5D,GACbyB,EAAWoC,SAASC,iBAIpB9D,EAAE+D,SAAW/D,EAAEgE,UAAYhE,EAAEiE,MAAQb,EAAKnD,EAC5CwD,EAASS,iBAAeC,QAIrBnE,EAAEgE,WAAYhE,EAAE+D,SAAW/D,EAAEiE,MAAQb,EAAKnD,GAC7CwD,EAASS,iBAAeE,SAK5B,SAASC,EAAQrE,GACf,IAAIyB,EAAWoC,SAASC,eAAxB,CAIA,IAAMQ,EAAiBnB,EAAYnD,EAAEiE,KACjCK,GACFb,EAASb,EAAQ0B,IAGnBd,EAAgBxD,EAAEiE,KAClBM,YAAW,WACTf,EAAgB,QACf,MAML,OAHAgB,OAAOC,iBAAiB,QAASJ,GACjCG,OAAOC,iBAAiB,UAAWb,GAE5B,WACLY,OAAOE,oBAAoB,QAASL,GACpCG,OAAOE,oBAAoB,UAAWd,MAEvC,CAACH,IAEG,CAAEF,iB,iDCKIoB,MA9Df,YAWI,IAVFC,EAUC,EAVDA,GACAC,EASC,EATDA,MASC,IARDC,iBAQC,aAPDC,YAOC,MAPM,IAON,MANDC,WAMC,MANK,IAML,EALDC,EAKC,EALDA,IAKC,IAJDC,qBAIC,MAJe,EAIf,MAHDC,gBAGC,MAHU,SAACnF,KAGX,EAFDoF,EAEC,EAFDA,QACAC,EACC,EADDA,UACC,EACyB/B,mBAAS4B,GADlC,mBACMI,EADN,KACaC,EADb,KAGD,OACE,sBAAKF,UAAWlE,EAAG,eAAgBkE,EAAWG,IAAOC,WAArD,UACE,uBACEC,QAASd,EACTS,UAAWlE,EACT,aACAqE,IAAOX,MACPC,GAAa,mBACZA,GAAa,WANlB,SASGD,IAEH,uBACEQ,UAAWlE,EAAG,aAAcqE,IAAOG,OACnC3D,KAAK,QACL4C,GAAIA,EACJI,IAAKA,EACLC,IAAKA,EACLF,KAAMA,EACNO,MAAOA,EACPH,SAAU,SAACnF,GACTuF,EAASK,OAAO5F,EAAE6F,OAAOP,QACzBH,EAASnF,MAGZoF,GAAW,qBAAKC,UAAWG,IAAOJ,QAAvB,SAAiCA,EAAQE,S,iBCK3D,IAIMQ,EAAqB,CAAE7C,mBAAkBD,gBAEhC+C,eANS,SAAClD,GAAD,MAAY,CAClCL,KAAMK,EAAMmD,KAAKxD,QAKqBsD,EAAzBC,EAhDf,YAA+E,IAAD,IAAtDE,YAAsD,SAAxCzD,EAAwC,EAAxCA,KAAMQ,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,iBACxD,OACE,sBAAKoC,UAAWlE,EAAGqE,IAAOU,kBAAmBD,GAAQT,IAAOS,MAA5D,UACE,cAAC,EAAD,CACEZ,UAAWG,IAAOW,OAClBvB,GAAG,gBACHC,MAAM,2CACNG,IAAI,IACJC,IAAI,KACJC,cAAe1C,EAAKC,UACpB0C,SAAU,SAACnF,GACTiD,EAAiB2C,OAAO5F,EAAE6F,OAAOP,SAEnCF,QAAS,SAACE,GAAD,OACP,qBAAKc,QAAQ,cAAcC,MAAM,KAAKC,OAAO,KAAKC,MAAM,6BAAxD,SACE,8BACE,wBAAQC,GAAG,MAAMC,GAAG,MAAMC,EAAGpB,EAAOqB,KAAMnE,EAAKE,QAC/C,sBACEkE,EAAE,MACFC,EAAE,MACFxB,UAAWG,IAAOsB,GAClBC,WAAW,SACXC,iBAAiB,SALnB,SAOG1B,YAMX,cAAC,IAAD,CACE5C,MAAOF,EAAKE,MACZuE,SAAU,KACVC,OAAQhG,EACRiE,SAAU,SAACgC,GACTnE,EAAamE,EAAEC,c,iBC2JVC,MA1Lf,YAAyF,IAApEzC,EAAmE,EAAnEA,GAAI0C,EAA+D,EAA/DA,SAA+D,IAArDC,cAAqD,MAA5C,EAA4C,MAAzCC,cAAyC,MAAhC,EAAgC,MAA7BC,iBAA6B,MAAjB,YAAW,EAATb,EAAS,EAAPC,GAAa,EAChFa,EAAWC,iBAAO,MAClBC,EAAaD,kBAAO,GACpBE,EAAcF,iBAAO,MAH2D,EAI5CrE,oBAAS,GAJmC,mBAI/EwE,EAJ+E,KAIhEC,EAJgE,KAKhFC,EAAOL,iBAAO,MALkE,EAMhErE,mBAAS,CAAEsD,EAAGW,EAAQV,EAAGW,IANuC,mBAM/ES,EAN+E,KAM1EC,EAN0E,KAYtFvE,qBAAU,WACRqE,EAAKG,QAAUT,EAASS,QAAQC,0BAC/B,IAEH,IAAMC,EAAYC,uBAAY,SAACtI,GAC7B,IAAMuI,EAASvI,EAAEgE,SAAW,GAAK,EACjC,OAAQhE,EAAEiE,KACR,KAAKb,EAAKzC,MACRuH,GAAO,SAACnI,GACN,OAAIA,EAAE6G,GAAKpC,OAAOgE,WAAaR,EAAKG,QAAQ9B,MAActG,EACnD,CACL6G,EAAG7G,EAAE6G,EAAI2B,EACT1B,EAAG9G,EAAE8G,MAGT,MACF,KAAKzD,EAAK1C,KACRwH,GAAO,SAACnI,GACN,OAAIA,EAAE6G,GAAK,GACF7G,EAEF,CACL6G,EAAG7G,EAAE6G,EAAI2B,EACT1B,EAAG9G,EAAE8G,MAGT,MACF,KAAKzD,EAAK5C,GACR0H,GAAO,SAACnI,GACN,OAAIA,EAAE8G,GAAK,GACF9G,EAEF,CACL6G,EAAG7G,EAAE6G,EACLC,EAAG9G,EAAE8G,EAAI0B,MAGb,MACF,KAAKnF,EAAK3C,KACRyH,GAAO,SAACnI,GACN,OAAIA,EAAE8G,GAAKrC,OAAOiE,YAAcT,EAAKG,QAAQ7B,OAAevG,EACrD,CACL6G,EAAG7G,EAAE6G,EACLC,EAAG9G,EAAE8G,EAAI0B,SAOhB,IAEH,SAASG,IACHb,EAAYM,UACd3D,OAAOE,oBAAoB,UAAW2D,GACtCR,EAAYM,QAAU,KACtBJ,GAAiB,IAIrB,SAASY,IACHf,EAAWO,UACbP,EAAWO,SAAU,EACrB3D,OAAOE,oBAAoB,YAAakE,GACxCpE,OAAOE,oBAAoB,UAAWiE,GACtC9E,SAASgF,KAAKC,UAAUC,OAAO,mBAC/BtB,EAAUQ,IAId,SAASW,EAAY5I,GACd4H,EAAWO,SAGhBD,GAAO,SAACnI,GACN,IAAI6G,EAAI5G,EAAEgJ,QACNnC,EAAI7G,EAAEiJ,QAcV,OAZIrC,GAAKpC,OAAOgE,WAAaR,EAAKG,QAAQ9B,MACxCO,EAAI7G,EAAE6G,EACGA,GAAK,IACdA,EAAI,GAGFC,GAAKrC,OAAOiE,YAAcT,EAAKG,QAAQ7B,OACzCO,EAAI9G,EAAE8G,EACGA,GAAK,IACdA,EAAI,GAGC,CACLD,IACAC,QA+CN,IAAMD,EAAIqB,EAAIrB,EAAI,EACZC,EAAIoB,EAAIpB,EAAI,GAEZqC,EAAapB,EACf3G,EAAGmG,EAAS6B,MAAM9D,UAAWG,IAAO4D,WACpC9B,EAAS6B,MAAM9D,UAEnB,OACE,sBAAKA,UAAWlE,EAAGqE,IAAO6D,eAAgBC,MAAO,CAAEC,IAAI,GAAD,OAAK1C,EAAL,MAAYnG,KAAK,GAAD,OAAKkG,EAAL,OAAtE,UACE,sBAAMhC,GAAIA,EAAIS,UAAU,kBAAxB,oCAGA,wBACEA,UAAWG,IAAOgE,OAClBC,YArDN,SAAqBzJ,GACF,IAAbA,EAAE0J,SACJ1J,EAAE2J,iBACFjB,IACAd,EAAWO,SAAU,EACrB3D,OAAOC,iBAAiB,YAAamE,GACrCpE,OAAOC,iBAAiB,UAAWkE,GACnC9E,SAASgF,KAAKC,UAAUc,IAAI,qBA+C1BvF,QA3CN,SAAiBrE,GACf,GAAI6H,EAAYM,QACd,OAAQnI,EAAEiE,KACR,KAAKb,EAAK5D,MACV,KAAK4D,EAAKjD,MACRuI,IACAjB,EAAUQ,GACV,MACF,KAAK7E,EAAK7D,IAER2I,EAAOL,EAAYM,SACnBO,SAQDb,EAAYM,SAAYnI,EAAEiE,MAAQb,EAAKjD,OAASH,EAAEiE,MAAQb,EAAK5D,QAClEmJ,IACAd,EAAYM,QAAZ,eAA2BF,GAC3BF,GAAiB,GACjBvD,OAAOC,iBAAiB,UAAW4D,KAqBjCwB,mBAAkBjF,EAJpB,SAME,uBAAMS,UAAU,kBAAhB,kBAAwCT,EAAxC,sBAIDkF,IAAMC,aAAazC,EAAU,CAAE0C,IAAKtC,EAAUrC,UAAW6D,Q,qDCvFhE,IAIMpD,EAAqB,CAAElD,WAEdmD,eANS,SAAClD,GAAD,MAAY,CAClCN,OAAQM,EAAMmD,KAAKzD,UAKmBuD,EAAzBC,EAzFf,YAAqC,IAApBnD,EAAmB,EAAnBA,QAASL,EAAU,EAAVA,OAAU,EACMe,oBAAS,GADf,mBAC3B2G,EAD2B,KACbC,EADa,KAGlC,OACE,cAAC,EAAD,CAAWtF,GAAG,aAAa2C,OAAQ,GAAIC,OAA6B,GAArBhD,OAAOiE,YAAtD,SACE,sBAAKpD,UAAS,uBAAkBG,IAAO2E,UAAvC,UACE,wBACEvF,GAAE,eAAU/D,GACZmB,KAAK,SACLqD,UAAWlE,EACT,YACAqE,IAAO4E,QACP5E,IAAO6E,QACP9H,IAAW1B,GAAW2E,IAAO8E,QAE/BC,eAAa,aACbC,QAAS,WACPN,GAAgB,GAChBtH,EAAQ/B,IAZZ,SAeE,cAAC,IAAD,MAEF,yBACE+D,GAAE,eAAU9D,GACZkB,KAAK,SACLqD,UAAWlE,EAAG,YAAaqE,IAAO4E,QAAS7H,IAAWzB,GAAQ0E,IAAO8E,QACrEC,eAAa,WACbC,QAAS,WACPN,GAAgB,GACZ3H,IAAWzB,EAIboJ,GAAiBD,GAHjBrH,EAAQ9B,IARd,UAeE,cAAC,IAAD,IACA,sBAAMuE,UAAWG,IAAOiF,kBAE1B,cAAC,EAAD,CAAcxE,KAAM1D,IAAWzB,GAAQmJ,IACvC,wBACErF,GAAE,eAAU7D,GACZiB,KAAK,SACLqD,UAAWlE,EAAG,YAAaqE,IAAO4E,QAAS7H,IAAWxB,GAASyE,IAAO8E,QACtEC,eAAa,YACbC,QAAS,WACPN,GAAgB,GAChBtH,EAAQ7B,IAPZ,SAUE,cAAC,IAAD,MAEF,wBACE6D,GAAE,eAAU5D,GACZgB,KAAK,SACLqD,UAAWlE,EAAG,YAAaqE,IAAO4E,QAAS7H,IAAWvB,GAAQwE,IAAO8E,QACrEC,eAAa,WACbC,QAAS,WACPN,GAAgB,GAChBtH,EAAQ5B,IAPZ,SAUE,cAAC,IAAD,MAEF,wBACE4D,GAAE,eAAU3D,GACZe,KAAK,SACLqD,UAAWlE,EAAG,YAAaqE,IAAO4E,QAAS7H,IAAWtB,GAAQuE,IAAO8E,QACrEC,eAAa,WACbC,QAAS,WACPN,GAAgB,GAChBtH,EAAQ3B,IAPZ,SAUE,sBAAMoE,UAAWG,IAAOkF,KAAxB,yB,kBCpFJC,GAAcvI,YAAY,CAC9BC,KAAM,SACNC,aAAc,CACZsI,MAAO,GACPC,MAAO,IAETlI,SAAU,CAIRmI,SAJQ,SAICjI,EAAOC,GACd,OAAO,2BACFD,GADL,IAEE+H,MAAO9H,EAAOC,WAGlBgI,QAVQ,SAUAlI,EAAOC,GACb,OAAO,2BACFD,GADL,IAEE+H,MAAM,GAAD,mBAAM/H,EAAM+H,OAAZ,CAAmB9H,EAAOC,aAOnCiI,QApBQ,SAoBAnI,EAAOC,GACb,IAAKA,EAAOC,QAAQf,KAClB,MAAM,IAAIiJ,MAAM,0BAA4BC,KAAKC,UAAUrI,EAAOC,UAMpE,IAAMqI,EAAavI,EAAMgI,MAAMQ,KAAI,SAACvL,GAElC,OADAA,EAAEwL,UAAW,EACNxL,KAITgD,EAAOC,QAAQ6B,GAAK2G,eAGpB1I,EAAMgI,MAAN,sBAAkBO,GAAlB,CAA8BtI,EAAOC,WAGvCyI,WAxCQ,SAwCG3I,EAAOC,GAKhBD,EAAMgI,MAAQhI,EAAMgI,MAAMQ,KAAI,SAACvL,GAE7B,OADAA,EAAEwL,UAAW,EACTxL,EAAE8E,KAAO9B,EAAOC,QAAQ6B,GACnB9B,EAAOC,QAETjD,MAIX2L,WAtDQ,SAsDG5I,GAETA,EAAMgI,MAAQhI,EAAMgI,MAAMxJ,QAAO,SAACvB,GAAD,OAAQA,EAAEwL,gB,GAKqBX,GAAYzH,QAAnE4H,G,GAAAA,SAAmBE,I,GAATD,Q,GAASC,SAASQ,G,GAAAA,WAAYC,G,GAAAA,WAE1CC,GAAc,SAAC7I,GAAD,OAAWA,EAAM8I,OAAOC,QAAQhB,OAE5CD,MAAf,QC5EMkB,GAAYzJ,YAAY,CAC5BC,KAAM,OACNC,aAAc,CAAEwJ,gBAAYC,EAAWC,aAASD,GAChDpJ,SAAU,CACRsJ,cADQ,SACMpJ,EAAOC,GACnBD,EAAMiJ,WAAahJ,EAAOC,SAE5BmJ,gBAJQ,SAIQrJ,GACdA,EAAMiJ,gBAAaC,GAErBI,WAPQ,SAOGtJ,EAAOC,GAChBD,EAAMmJ,QAAUlJ,EAAOC,SAEzBqJ,aAVQ,SAUKvJ,GACXA,EAAMmJ,aAAUD,M,GAKsDF,GAAU3I,QAAvE+I,G,GAAAA,cAAeC,G,GAAAA,gBAAiBC,G,GAAAA,WAAYC,G,GAAAA,aAE5CP,MAAf,Q,oBClBMQ,GAAiBxI,SAASyI,eAAe,cAE/C,SAASC,GAAT,EAA8EvC,GAAM,IAAnEpF,EAAkE,EAAlEA,GAAI4H,EAA8D,EAA9DA,MAA8D,IAAvDC,iBAAuD,SAApCnF,EAAoC,EAApCA,SAAoC,IAA1BoF,cAA0B,MAAjB,aAAiB,EAC3EC,EAAQhF,iBAAO,MACfiF,EAAYjF,iBAAO,MAqBzB,SAASkF,IACPD,EAAUzE,QAAQW,UAAUC,OAAOvD,KAAOsH,QAC1CH,EAAMxE,QAAQW,UAAUC,OAAOvD,KAAOuH,UACtCxI,WAAWmI,EAAQ,KAtBrB/I,qBAAU,WAaR,OAZAE,SAASgF,KAAKC,UAAUc,IAAI,cAC5B/F,SAASmJ,cAAc,SAASC,aAAa,cAAe,QAE5D1I,YAAW,WACLqI,EAAUzE,SACZyE,EAAUzE,QAAQW,UAAUc,IAAIpE,KAAOsH,QAErCH,EAAMxE,SACRwE,EAAMxE,QAAQW,UAAUc,IAAIpE,KAAOuH,YAEpC,KAEI,WACLlJ,SAASgF,KAAKC,UAAUC,OAAO,cAC/BlF,SAASmJ,cAAc,SAASE,gBAAgB,kBAEjD,IAoBHC,8BAAoBnD,GAAK,iBAAO,CAC9BoD,KAAMP,MAGR,IAAMQ,EACJ,qBAAKrD,IAAK2C,EAAOtH,UAAWG,KAAO8H,GAAIjJ,QAjBzC,SAAmBrE,GACbA,EAAEiE,MAAQb,EAAK7D,KACjBsN,KAeyDrC,QAX7D,SAAmBxK,GACbA,EAAE6F,OAAOiD,UAAUyE,SAAS/H,KAAO8H,KACrCT,KASF,SACE,sBACEW,KAAK,SACL5I,GAAIA,EACJ6I,kBAAA,UAAoB7I,EAApB,UACA8I,aAAW,OACXrI,UAAWG,KAAOmI,OAClB3D,IAAK4C,EANP,UAQE,qBAAKhI,GAAE,UAAKA,EAAL,UAAiBS,UAAWoH,EAAY,kBAAoB,KAAnE,SACGD,IAEFlF,OAKP,OAAOsG,uBAAaP,EAAShB,IAGhBwB,4BAAWtB,I,oBCjBXuB,OAnDf,YAAuF,IAAhEzI,EAA+D,EAA/DA,UAAWiG,EAAoD,EAApDA,SAAUyC,EAA0C,EAA1CA,QAA0C,IAAjCC,qBAAiC,MAAjB,SAACtL,KAAgB,IACxDY,mBAASgI,GAD+C,mBAC7EhB,EAD6E,KACrE2D,EADqE,KAGpF,OACE,2BAAU5I,UAAWlE,EAAGqE,KAAO0I,SAAU7I,GAAzC,UACE,wBAAQA,UAAU,kBAAlB,4BACC0I,EAAQ1C,KAAI,SAAC3I,GAAD,OACX,sBAAK2C,UAAS,qBAAgBG,KAAO2I,MAArC,UACE,uBACE9I,UAAWG,KAAO4I,MAClBpM,KAAK,QACLK,KAAK,QACLuC,GAAE,gBAAWlC,GACb2L,QAAS3L,IAAU4H,EACnBnF,SAAU,SAACnF,GACTiO,EAAUjO,EAAE6F,OAAOP,OACnB0I,EAAchO,EAAE6F,OAAOP,QAEzBA,MAAO5C,IAET,uBAAOgD,QAAO,gBAAWhD,GAAS4G,MAAO,CAAEgF,gBAAiB5L,GAA5D,SACGA,MAd6CA,U,oBCCpD6L,GAAe,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAEvEC,GAAc,CAClBxM,KAAMhB,EACN4D,GAAI,KACJgC,EAAG,KACHC,EAAG,KACHR,MAAO,IACPC,OAAQ,IACRoE,KAAM,GACN+D,SAAU,GACV/L,MAAO6L,GAAa,GACpBG,OAAQ,IACRC,OAAQ,IACRC,SAAU,GA6IZ,IAAMC,GAAuB,CAC3BrD,cACAW,eAGapG,eAAQ,KAAM8I,GAAd9I,EA/If,YASI,IAAD,IARD+I,cAQC,MARQ,aAQR,MAPDC,gBAOC,MAPU,aAOV,MANDC,eAMC,MANS,aAMT,MALDC,YAKC,MALMT,GAKN,EAJD5H,EAIC,EAJDA,EACAC,EAGC,EAHDA,EACA2E,EAEC,EAFDA,WACAW,EACC,EADDA,WACC,EAC+B7I,mBAAS2L,EAAKvE,MAD7C,mBACMwE,EADN,KACgBC,EADhB,OAE+B7L,mBAAS2L,EAAKR,UAF7C,mBAEMA,EAFN,KAEgBW,EAFhB,OAGuC9L,mBAAS2L,EAAKvM,OAHrD,mBAGM2M,EAHN,KAGoBC,EAHpB,KAIKC,EAAU5H,iBAAO,MACjB6H,EAAc7H,iBAAO,MAErB8H,EAAW9H,iBAAO,MAQxB,OANAhE,qBAAU,WACJ4L,EAAQpH,SACVoH,EAAQpH,QAAQuH,UAEjB,CAACH,IAGF,cAAC,GAAD,CACE3K,GAAG,UACH4H,MAAM,kBACNC,WAAS,EACTzC,IAAKyF,EACL/C,OAAQ,WACNsC,KANJ,SASE,8BACE,uBACEW,SAAU,SAAC3P,GACTA,EAAE2J,iBAEF,IAAMqC,EAAU,CACdtB,KAAMwE,EACNT,WACA/L,MAAO2M,GAGT,GAAKJ,EAAKrK,GASR4G,EAAWoE,OAAOC,OAAO,GAAIZ,EAAMjD,QATvB,CAEZA,EAAQpF,EAAIA,EACZoF,EAAQnF,EAAIA,EACZ,IAAMiJ,EAASN,EAAYrH,QAAQC,wBACnC4D,EAAQ+D,OAAS,CAAEnJ,EAAGkJ,EAAOlJ,EAAGC,EAAGiJ,EAAOjJ,GAC1CsF,EAAWyD,OAAOC,OAAO,GAAIZ,EAAMjD,IAMrC8C,IACAW,EAAStH,QAAQiF,QAvBrB,UA0BE,sBACEpD,IAAKwF,EACLlG,MAAO,CAAEgF,gBAAiBe,GAC1BhK,UAAWlE,EAAG,aAAc,cAAeqE,KAAOyJ,MAHpD,UAKE,uBAAO5J,UAAU,kBAAkBT,GAAG,kBAAtC,yCAGA,qBAAKS,UAAWG,KAAOwK,cAAvB,SACE,qBACEhG,IAAKuF,EACLjG,MAAO,CAAEmF,SAAUA,EAAW,MAC9BjB,KAAK,UACLyC,iBAAe,OACfxC,kBAAgB,kBAChByC,gBAAc,OACd7K,UAAWG,KAAO2K,SAClBC,iBAAiB,EACjBC,gCAAgC,EAChCC,SAAU,EACVC,QAAS,SAACvQ,GAERmP,EAAYnP,EAAE6F,OAAO2K,cAbzB,SAgBGvB,EAAKvE,YAIZ,sBAAKrF,UAAWG,KAAOtC,QAAvB,UACE,cAAC,EAAD,CACE4B,WAAW,EACXF,GAAG,eACHC,MAAM,uBACNG,IAAI,KACJC,IAAI,MACJC,cAAeuJ,EACftJ,SAAU,SAACnF,GACToP,EAAYxJ,OAAO5F,EAAE6F,OAAOP,WAGhC,qBAAKD,UAAWlE,EAAG,MAAOqE,KAAO0B,QAAjC,SACE,cAAC,GAAD,CACEoE,SAAU+D,EACVtB,QAASQ,GACTP,cAAe,SAACtL,GACd4M,EAAgB5M,QAItB,sBAAK2C,UAAU,uCAAf,UACE,wBACErD,KAAK,SACLqD,UAAU,oBACVmF,QAAS,SAACxK,GACRA,EAAE2J,iBACFoF,IACAU,EAAStH,QAAQiF,QANrB,oBAYA,wBACE/H,UAAU,uBACVrD,KAAK,SAFP,kC,mBCtJcyO,KAAUC,MAAM,CAC1C1K,KAAMyK,KAAUE,OAAOC,WACvBlO,MAAO+N,KAAUE,OAAOC,WACxBnO,UAAWgO,KAAUI,OAAOD,WAC5BE,OAAQL,KAAUM,QAAQN,KAAUI,QAAQD,aAqB/BI,OAlBf,YAAmC,IAATC,EAAQ,EAARA,KACxB,OAAKA,EAEH,cAAC,IAAD,CACEH,OAAQG,EAAKH,OACbI,OAAQD,EAAKvO,MACbyO,YAAaF,EAAKjL,OAASjF,EAAQ,GAAKkQ,EAAKxO,UAC7C2O,QAAS,GACTC,QAASJ,EAAKjL,OAASjF,EAAQ,SAAW,QAC1CuQ,yBAA0BL,EAAKjL,OAASjF,EAAQ,kBAAoB,gBARtD,MCKLwQ,OAdf,YAA+B,IAAD,IAAd3G,aAAc,MAAN,GAAM,EAC5B,OACE,mCACGA,EAAMS,KAAI,SAAC4F,EAAMO,GAAP,OACT,cAAC,GAAD,CAAkCP,KAAMA,GAAxC,eAA6BO,U,UC0HtBC,OA7Hf,YAqBI,IAAD,IApBDC,eAoBC,SAnBDC,EAmBC,EAnBDA,eAmBC,IAlBDC,mBAkBC,MAlBa,SAACC,EAAM7R,KAkBpB,MAjBD8R,gBAiBC,MAjBU,IAiBV,MAhBDC,iBAgBC,MAhBW,IAgBX,MAfDC,eAeC,MAfS,KAeT,EAdD1K,EAcC,EAdDA,SAcC,IATD2K,eASC,MATS,CAAC,WAAY,YAAa,eAAgB,eASnD,MARDC,iBAQC,aAPDC,qBAOC,SADEC,EACF,6IACKC,EAAU1K,iBAAO,MACjB2K,EAAQ3K,iBAAO,MAwBrB,OAtBAhE,qBAAU,WACJ+N,IAEFY,EAAMnK,QAAQoK,MAAM,CAACF,EAAQlK,UAC7BmK,EAAMnK,QAAQqK,WAAWC,eAE1B,CAACf,IAEJ/N,qBAAU,WACe,oBAAZqO,GAA0BK,EAAQlK,SAC3C6J,EAAQK,KAET,CAACA,EAASL,IAWX,qCAEGlI,IAAMC,aAAazC,EAAU,CAC5B0C,IAAKqI,EACLV,eAbN,SAAe3R,GACb2R,EAAeU,EAAQlK,QAASnI,IAa5B4R,YAVN,SAAyB5R,GACvB4R,EAAYS,EAAQlK,QAASnI,MAY1B0R,GACC,cAAC,IAAD,2BACMU,GADN,IAEEpI,IAAKsI,EACLJ,UAAWA,EACXC,cAAeA,EACfO,eAAgBT,EAChBU,aAAc,SAACC,EAAQC,GACrB,OAAIA,EAAOxM,MAAQyL,GAAYe,EAAOvM,OAASyL,EACtCa,EAEFC,UC/DUpC,KAAUC,MAAM,CAC3C9L,GAAI6L,KAAUE,OACd/J,EAAG6J,KAAUI,OAAOD,WACpB/J,EAAG4J,KAAUI,OAAOD,WACpBvK,MAAOoK,KAAUI,OAAOD,WACxBtK,OAAQmK,KAAUI,OAAOD,WACzBlG,KAAM+F,KAAUE,OAAOC,WACvBnC,SAAUgC,KAAUI,OAAOD,WAC3BlO,MAAO+N,KAAUE,OAAOC,WACxBlC,OAAQ+B,KAAUI,OAClBlC,OAAQ8B,KAAUI,OAClBjC,SAAU6B,KAAUI,SA8GtB,IAIMhC,GAAuB,CAC3B7D,WACAQ,cACAS,iBACAG,iBAGarG,gBAXS,SAAClD,GAAD,MAAY,CAClCiQ,YAAajQ,EAAMmD,KAAKzD,UAUcsM,GAAzB9I,EAtHf,YAAwF,IAAxEkJ,EAAuE,EAAvEA,KAAMhD,EAAiE,EAAjEA,cAAe6G,EAAkD,EAAlDA,YAAa1G,EAAqC,EAArCA,aAAcpB,EAAuB,EAAvBA,QAASQ,EAAc,EAAdA,WAsCvE,OACE,cAAC,GAAD,CACEkG,QAASzC,EAAK3D,UAAYwH,IAAgBjS,EAC1C8Q,eAdJ,SAAwBE,GACtBrG,EAAW,2BACNyD,GADK,IAERrI,EAAGiL,EAAKjL,IACRC,EAAGgL,EAAKhL,IACR6H,OAAQmD,EAAKnD,SACbC,OAAQkD,EAAKlD,SACbC,SAAUiD,EAAKjD,eAQfoD,QAAS,SAACzC,GAMJA,EAAQpH,SAAW8G,EAAKc,QAC1BR,EAAQpH,QAAQ4K,GAAG,CACjBnM,EAAGqI,EAAKrI,EACRC,EAAGoI,EAAKpI,EACRmM,SAAU,GACVC,SAAU,WACRjI,EAAQ,2BACHiE,GADE,IAELc,OAAQ,QAEV3D,QAnBV,SAyBE,eAAC,IAAD,CACE8G,UAAWJ,IAAgBjS,EAC3B+F,EAAGqI,EAAKc,OAASd,EAAKc,OAAOnJ,EAAIqI,EAAKrI,EACtCC,EAAGoI,EAAKc,OAASd,EAAKc,OAAOlJ,EAAIoI,EAAKpI,EACtC+H,SAAUK,EAAKL,SACfpE,QApEN,SAAiBxK,GAEM,IAAjBA,EAAEmT,IAAIC,QACRnH,EAAcgD,IAkEZxH,UAnDN,SAAmBzH,GACjBwL,EAAW,2BACNyD,GADK,IAERrI,EAAG5G,EAAE6F,OAAOe,IACZC,EAAG7G,EAAE6F,OAAOgB,QAgDV4C,YA9DN,SAAqBzJ,GAEE,IAAjBA,EAAEmT,IAAIC,QAAiBnE,EAAK3D,UAC9BE,EAAW,2BACNyD,GADK,IAER3D,UAAU,MA0DVoD,OAAQO,EAAKP,OACbC,OAAQM,EAAKN,OATf,UAWE,cAAC,IAAD,CACEhI,KAAMsI,EAAKvM,MACX2D,MAAO4I,EAAK5I,MACZC,OAAQ2I,EAAK3I,OACb+M,cAAe,EACfC,cAAe,EACfC,WAAY,EACZC,eAAe,EACfC,YAAY,UACZC,cAAe,MAEjB,cAAC,IAAD,CACErN,MAAO4I,EAAK5I,MACZC,OAAQ2I,EAAK3I,OACboE,KAAMuE,EAAKvE,KACX+D,SAAUQ,EAAKR,SACfkF,WAAW,aACXhN,KAAK,UACLiN,MAAM,SACNC,cAAc,SACdC,UAAU,iBCnHdC,GAAY3R,YAAY,CAC5BC,KAAM,OACNC,aAAc,CAAE0R,gBAAYjI,GAC5BpJ,SAAU,CACRsR,cADQ,SACMpR,EAAOC,GACnBD,EAAMmR,WAAalR,EAAOC,SAE5BmR,gBAJQ,SAIQrR,GACdA,EAAMmR,gBAAajI,M,GAKyBgI,GAAU7Q,QAA7C+Q,G,GAAAA,cAAeC,G,GAAAA,gBAEfH,MAAf,QCT6BtD,KAAUC,MAAM,CAC3C9L,GAAI6L,KAAUE,OACd/J,EAAG6J,KAAUI,OAAOD,WACpB/J,EAAG4J,KAAUI,OAAOD,WACpBvK,MAAOoK,KAAUI,OAAOD,WACxBtK,OAAQmK,KAAUI,OAAOD,WACzBlG,KAAM+F,KAAUE,OAChBlC,SAAUgC,KAAUI,OAAOD,WAC3BlO,MAAO+N,KAAUE,OAAOC,WACxBlC,OAAQ+B,KAAUI,OAClBlC,OAAQ8B,KAAUI,OAClBjC,SAAU6B,KAAUI,SAkGtB,IAKMhC,GAAuB,CAC3BrD,cACAyI,kBAGalO,gBAVS,SAAClD,GAAD,MAAY,CAClCiQ,YAAajQ,EAAMmD,KAAKzD,OACxB4R,kBAAmBtR,EAAM6H,KAAKsJ,cAQQnF,GAAzB9I,EAzGf,YAA0F,IAApEqO,EAAmE,EAAnEA,KAAM5I,EAA6D,EAA7DA,WAAYyI,EAAiD,EAAjDA,cAAenB,EAAkC,EAAlCA,YAAaqB,EAAqB,EAArBA,kBAqClE,OACE,cAAC,GAAD,CACElC,QAAS,CACP,WACA,YACA,cACA,eACA,aACA,gBACA,cACA,gBAEFC,WAAW,EACXR,QAAS0C,EAAK9I,UAAYwH,IAAgBjS,IAA4B,OAAjBsT,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBvP,MAAOwP,EAAKxP,GACpF+M,eAxBJ,SAAwBE,GACtBrG,EAAW,2BACN4I,GADK,IAERxN,EAAGiL,EAAKjL,IACRC,EAAGgL,EAAKhL,IACRR,MAAOwL,EAAKxL,QACZC,OAAQuL,EAAKvL,aAmBbsL,YAAa,SAACC,GACZ,IAAMwC,EAAIC,KAAKrP,IAAI4M,EAAKxL,QAAUwL,EAAKnD,SAAU,IAC3C7O,EAAIyU,KAAKrP,IAAI4M,EAAKvL,SAAWuL,EAAKlD,SAAU,IAClDkD,EAAK0C,SAAS,CACZlO,MAAOgO,EACP/N,OAAQzG,EACR6O,OAAQ,EACRC,OAAQ,KArBd,SAyBE,cAAC,IAAD,CACEuE,UAAWJ,IAAgBjS,EAC3B+F,EAAGwN,EAAKxN,EACRC,EAAGuN,EAAKvN,EACR+H,SAAUwF,EAAKxF,SACfpE,QAnEN,SAAiBxK,GAEM,IAAjBA,EAAEmT,IAAIC,QACRa,EAAcG,IAiEZ3M,UAlDN,SAAmBzH,GACjBwL,EAAW,2BACN4I,GADK,IAERxN,EAAG5G,EAAE6F,OAAOe,IACZC,EAAG7G,EAAE6F,OAAOgB,QA+CV4C,YA7DN,SAAqBzJ,GAEE,IAAjBA,EAAEmT,IAAIC,QAAiBgB,EAAK9I,UAC9BE,EAAW,2BACN4I,GADK,IAER9I,UAAU,MAyDVoD,OAAQ0F,EAAK1F,OACbC,OAAQyF,EAAKzF,OACbtI,MAAO+N,EAAK/N,MACZC,OAAQ8N,EAAK9N,OACboE,MAAuB,OAAjByJ,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBvP,MAAOwP,EAAKxP,GAAK,GAAKwP,EAAK1J,KACpD+D,SAAU2F,EAAK3F,SACfkF,WAAW,aACXhN,KAAK,UACLiN,MAAM,OACNC,cAAc,MACdC,UAAU,OACVU,WAAY,WClGpB,SAASC,GAAT,GAA6B,IAATC,EAAQ,EAARA,KAClB,OAAQA,EAAK1S,MACX,KAAKhB,EACH,OAAO,cAAC,GAAD,CAAMiO,KAAMyF,GAAWA,EAAK9P,IACrC,KAAK3D,EACH,OAAO,cAAC,GAAD,CAAMmT,KAAMM,GAAWA,EAAK9P,IACrC,QACE,OAAO,MAwBE+P,OAjBf,YAAkD,IAA1B9J,EAAyB,EAAzBA,MAAOD,EAAkB,EAAlBA,MAAOoB,EAAW,EAAXA,QAC9BV,EAAWT,EAAM+J,MAAK,SAAC5U,GAAD,OAAOA,EAAEsL,YAErC,OACE,eAAC,IAAD,WACE,cAAC,GAAD,CAAMV,MAAOA,IACZC,EACExJ,QAAO,SAACrB,GAAD,OAAQA,EAAEsL,YACjBD,KAAI,SAACqJ,GAAD,OACH,cAACD,GAAD,CAAUC,KAAMA,GAAWA,EAAK9P,OAEnC0G,GAAY,cAACmJ,GAAD,CAAUC,KAAMpJ,IAC5BU,GAAW,cAAC,GAAD,CAAMiD,KAAMjD,Q,qBCgBf6I,OA5Cf,YAAwD,IAAtCxO,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,OAAQ2M,EAAsB,EAAtBA,SAAUlE,EAAY,EAAZA,SACnC/E,EAAMrC,iBAAO,MA+BnB,OA7BAhE,qBAAU,WACR,SAASmR,EAAO9U,GACVgK,EAAI7B,UACN6B,EAAI7B,QAAQmB,MAAMC,IAAlB,UAA2BvJ,EAAEiJ,QAA7B,MACAe,EAAI7B,QAAQmB,MAAM5I,KAAlB,UAA4BV,EAAEgJ,QAA9B,OAIJ,SAASwB,EAAQxK,GACfiT,EAASjT,EAAEgJ,QAAShJ,EAAEiJ,QAASjJ,GAGjC,SAASqE,EAAQrE,GACXA,EAAEiE,MAAQ3E,EAAQC,KACpBwP,IAQJ,OAJAvK,OAAOC,iBAAiB,YAAaqQ,GACrCtQ,OAAOC,iBAAiB,QAAS+F,GACjChG,OAAOC,iBAAiB,QAASJ,GAE1B,WACLG,OAAOE,oBAAoB,YAAaoQ,GACxCtQ,OAAOE,oBAAoB,QAAS8F,GACpChG,OAAOE,oBAAoB,QAASL,MAErC,CAAC0K,EAAUkE,IAGZ,qBACEjJ,IAAKA,EACLV,MAAO,CACLjD,MAAM,GAAD,OAAKA,EAAL,MACLC,OAAO,GAAD,OAAKA,EAAL,OAERjB,UAAWG,KAAOuP,U,oBCnClBC,GAAc,CAClBhT,KAAMf,EACN2F,EAAG,EACHC,EAAG,EACHR,MAAO,KACPC,OAAQ,KACRoE,KAAM,GACN+D,SAAU,GACV/L,MAAO,UACPgM,OAAQ,EACRC,OAAQ,EACRC,SAAU,GAkFGqG,OA/Ef,YAAsF,IAAD,IAA1DrO,SAA0D,MAAtD,EAAsD,MAAnDC,SAAmD,MAA/C,EAA+C,MAA5CqO,gBAA4C,MAAjCF,GAAiC,EAApBlG,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SACjEoG,EAAcxN,iBAAO,CAACf,IAAGC,MACzBuO,EAAWzN,iBAAO,MAUlB0N,EACJH,EAAS7O,OAAS6O,EAAS5O,OACvB,CAAED,MAAO6O,EAAS7O,MAAOC,OAAQ4O,EAAS5O,QAC1C,CACED,MAAO,IACPC,OAAQ,IAGhB,OACE,cAAC,EAAD,CACE1B,GAAG,kBACH2C,OAAQX,EAERY,OAAQX,EAAI,GACZY,UAAW,SAACQ,GACVkN,EAAYhN,QAAUF,EACtBqN,QAAQC,IAAIJ,EAAYhN,QAASF,IAPrC,SAUE,uBAAM5C,UAAWG,KAAOgQ,eAAxB,UACE,uBAAOnQ,UAAU,kBAAkBK,QAAQ,YAA3C,gCAGA,qBACE4D,MAAO+L,EACPrL,IAAKoL,EACLK,YAAY,MACZC,eAAe,MACflI,KAAK,UACLyC,iBAAe,OACfxC,kBAAgB,YAChBpI,UAAWG,KAAOmQ,MAClBvF,iBAAiB,EACjBC,gCAAgC,EAChCC,SAAU,EACVjM,QA3CR,SAAiBrE,GACXA,EAAEiE,MAAQb,EAAK5D,OAERQ,EAAEiE,MAAQb,EAAK7D,KACxBwP,KAwCI6G,OAAQ,SAAC5V,GACP,GAAKA,EAAE6F,OAAO2K,YAAYjP,OAA1B,CAIA,IAAMyG,EAAOoN,EAASjN,QAAQC,wBAC9B0G,EAAO,2BACFoG,GADC,IAEJtO,EAAGuO,EAAYhN,QAAQvB,EACvBC,EAAGsO,EAAYhN,QAAQtB,EACvBR,MAAO2B,EAAK3B,MACZC,OAAQ0B,EAAK1B,OACboE,KAAM1K,EAAE6F,OAAO2K,oBAVfzB,KAfN,SA6BGmG,EAASxK,aC/EpB,SAASmL,GAAc7V,EAAGgG,EAAM4E,GAC9B,IAAMkL,EAAQ9V,EAAE6F,OAAOkQ,WAAWC,qBAC9BC,EAAWrL,EAAMA,EAAMsL,OAAS,GAcpC,OAPED,EAASnF,OADP9K,IAASlF,EACOmV,EAASnF,OAAOqF,OAAO,CAACL,EAAMlP,EAAGkP,EAAMjP,EtBhBpC,KsBkBHoP,EAASnF,OAAOqF,OAAO,CAACL,EAAMlP,EAb/BwP,GAaiDN,EAAMjP,EAbvDuP,KAiBnBxL,EAAMyL,OAAOzL,EAAMsL,OAAS,EAAG,EAAGD,GAC3BK,MAAMC,KAAK3L,GA8EL4L,OApEf,WAAoB,IAAD,EACOlT,mBAASxC,GADhB,mBACVkF,EADU,KACJpD,EADI,OAESU,mBAAS,IAFlB,mBAEVsH,EAFU,KAEHE,EAFG,KAGX2L,EAAY9O,kBAAO,GACnB+O,EAAW/O,kBAAO,GAClBlE,EAAWC,cAEXhB,EAAQiU,aAAY,SAAC9T,GAAD,OAAWA,EAAMmD,KAAKxD,KAAKE,SAC/CD,EAAYkU,aAAY,SAAC9T,GAAD,OAAWA,EAAMmD,KAAKxD,KAAKC,aACnDmU,EAAiBD,YAAYjL,IAkDnC,OA5CA/H,qBAAU,WACRmH,EAAS8L,KACR,CAACA,EAAgB9L,IA0Cb,CACLF,QACAiM,cA1CoB,SAAC7W,GACrB,GAAqB,IAAjBA,EAAEmT,IAAIzJ,OAAV,CAEA+M,EAAUtO,SAAU,EACpB,IAAMF,EAAMjI,EAAE6F,OAAOkQ,WAAWC,qBAEhC,GAAIhQ,IAASlF,EAAM,CACjB,IAAMgW,EAAWR,MAAMC,KAAK3L,GAC5BkM,EAASC,KAAK,CAAE/Q,OAAMtD,QAAOD,YAAWqO,OAAQ,CAAC7I,EAAIrB,EAAGqB,EAAIpB,EtB5DzC,MsB6DnBiE,EAASgM,OACJ,CACL,IAAMA,EAAWR,MAAMC,KAAK3L,GAC5BkM,EAASC,KAAK,CAAE/Q,OAAMtD,QAAOD,YAAWqO,OAAQ,CAAC7I,EAAIrB,EA3DtCwP,GA2DwDnO,EAAIpB,EA3D5DuP,MA4DftL,EAASgM,MA8BXE,cA1BoB,SAAChX,GAEhByW,EAAUtO,UAGfuO,EAASvO,SAAU,EACnB2C,EAAS+K,GAAc7V,EAAGgG,EAAM4E,MAqBhCqM,YAlBkB,SAACjX,GACnByW,EAAUtO,SAAU,EAEfuO,EAASvO,QAGZuO,EAASvO,SAAU,EAFnB2C,EAAS+K,GAAc7V,EAAGgG,EAAM4E,IAKlCrG,YAAW,WACTd,EAASyT,GAAetM,MACvB,IAQHuM,YAAavU,IC9FXwU,GAAS,CAEb,CACEC,WAAW,EACXC,UAAU,GAGZ,CACED,WAAW,EACXC,UAAU,GAGZ,CACED,WAAW,EACXC,UAAU,IAyCCC,OArCf,WAAsC,IAAlB7F,EAAiB,wDAC7B8F,EAAQ7P,iBAAO,GADc,EAEKrE,mBAAS8T,GAAOI,EAAMrP,UAF3B,mBAE5BsP,EAF4B,KAEdC,EAFc,OAGHpU,mBAAS,CAAEsD,EAAG,EAAGC,EAAG,IAHjB,mBAG5B8Q,EAH4B,KAGlBC,EAHkB,KAKnC,SAASC,IACPL,EAAMrP,QAAU,EAChBuP,EAAgBN,GAAO,IAGzB,SAASU,EAAKlR,EAAGC,GACXD,GAAKC,GACP+Q,EAAY,CAAEhR,IAAGC,MAEf2Q,EAAMrP,UAAYiP,GAAOlB,OAAS,EACpC2B,KAEAL,EAAMrP,QAAUqP,EAAMrP,QAAU,EAChCuP,EAAgBN,GAAOI,EAAMrP,WAWjC,OAPAxE,qBAAU,WACJ+N,IACF8F,EAAMrP,QAAU,EAChBuP,EAAgBN,GAAO,OAExB,CAAC1F,IAEG,CACL7O,MAAO4U,EACPI,QACAF,WACAG,SCqJJ,IAQMhS,GAAqB,CACzBlD,UACAsJ,mBACAgI,mBACAzI,cACAT,WACAQ,eAGazF,gBAjBS,SAAClD,GAAD,MAAY,CAClCiQ,YAAajQ,EAAMmD,KAAKzD,OACxBwV,YAAalV,EAAM8I,OAAOC,QAC1BoM,SAAUnV,EAAMoM,KAAKnD,WACrBE,QAASnJ,EAAMoM,KAAKjD,QACpBkD,SAAUrM,EAAM6H,KAAKsJ,cAYiBlO,GAAzBC,EA/Lf,YAaI,IAZF+M,EAYC,EAZDA,YACAlQ,EAWC,EAXDA,QACAmV,EAUC,EAVDA,YACAC,EASC,EATDA,SACA9L,EAQC,EARDA,gBACAF,EAOC,EAPDA,QACAzI,EAMC,EANDA,aACA2Q,EAKC,EALDA,gBACAhF,EAIC,EAJDA,SACAzD,EAGC,EAHDA,WACAT,EAEC,EAFDA,QACAQ,EACC,EADDA,WACC,EACyEgL,KAAlE5L,EADP,EACOA,MAAOiM,EADd,EACcA,cAAeG,EAD7B,EAC6BA,cAAeC,EAD5C,EAC4CA,YAAaE,EADzD,EACyDA,YADzD,EAE+B7T,mBAAS,CAAE+Q,EAAG7P,OAAOgE,WAAY3I,EAAG2E,OAAOiE,cAF1E,mBAEMwP,EAFN,KAEgBC,EAFhB,OAG2C5U,oBAAS,GAHpD,mBAGM6U,EAHN,KAGsBC,EAHtB,KAIKC,EAAcd,GAAWvW,IAAS8R,GAClCwF,EAAcf,GAAWtW,IAAS6R,GAElCyF,EAAU,IAAIC,MA4BpB,OA3BAD,EAAQE,OAAS,WACfL,GAAkB,IAEpBG,EAAQG,ICrDK,ivBDuDb/U,qBAAU,WACRwT,EAAYrE,KACX,CAACA,EAAaqE,IAEjBxT,qBAAU,WACJJ,IAAiBH,EAAK1D,KACxB+L,MAED,CAAClI,EAAckI,IAElB9H,qBAAU,WAIR,IAAMgV,EAAkBC,aAHxB,WACEV,EAAY,CAAE7D,EAAG7P,OAAOgE,WAAY3I,EAAG2E,OAAOiE,gBAEL,IAG3C,OAFAjE,OAAOC,iBAAiB,SAAUkU,GAE3B,WACLnU,OAAOE,oBAAoB,SAAUiU,MAEtC,IAGD,qCACE,cAAC,IAAkBE,SAAnB,UACG,gBAAGC,EAAH,EAAGA,MAAH,OACC,eAAC,IAAD,CACEzS,MAAO4R,EAAS5D,EAChB/N,OAAQ2R,EAASpY,EACjByQ,SAAU,EACV7G,YAAa,SAACzJ,GACR8S,IAAgBhS,GAAQgS,IAAgB/R,GAC1C8V,EAAc7W,IAGlB+Y,YAAa,SAAC/Y,GACR8S,IAAgBhS,GAAQgS,IAAgB/R,GAC1CiW,EAAchX,IAGlBgZ,UAAW,SAAChZ,GACN8S,IAAgBhS,GAAQgS,IAAgB/R,GAC1CkW,EAAYjX,IAGhBqF,UAAS,4BAAuByN,GAnBlC,UAsBE,cAAC,IAAD,CAAOmG,WAAW,EAAlB,SACGd,GACC,cAAC,IAAD,CACEvR,EAAG,EACHC,EAAG,EACHR,MAAO4R,EAAS5D,EAChB/N,OAAQ2R,EAASpY,EACjBqZ,iBAAkBX,EAClBU,WAAW,MAIjB,cAAC,IAAD,CAAUH,MAAOA,EAAjB,SACE,cAAC,GAAD,CAAcjO,MAAOkN,EAAYlN,MAAOD,MAAOA,EAAOoB,QAASA,YAMtEqM,EAAYxV,MAAMwU,WACjB,cAAC,GAAD,CACEhR,MAAM,MACNC,OAAO,MACP2M,SAAU,SAACrM,EAAGC,GACZwR,EAAYP,KAAKlR,EAAGC,IAEtBkI,SAAU,WACRsJ,EAAYR,QACZjV,EAAQ/B,MAKbyX,EAAYzV,MAAMwU,WACjB,cAAC,GAAD,CACEhR,MAAM,MACNC,OAAO,KACP2M,SAAU,SAACrM,EAAGC,GACZyR,EAAYR,KAAKlR,EAAGC,IAEtBkI,SAAU,WACRuJ,EAAYT,QACZjV,EAAQ/B,MAKd,cAAC,EAAD,IAECyX,EAAYzV,MAAMyU,UACjB,cAAC,GAAD,CACE1Q,EAAG0R,EAAYX,SAAS/Q,EACxBC,EAAGyR,EAAYX,SAAS9Q,EACxBiI,OAAQ,SAACpE,GACPM,EAAQN,GACR9H,EAAQ/B,GACRqT,IACAoE,EAAYT,SAEd9I,SAAU,WACRnM,EAAQ/B,GACRqT,IACAoE,EAAYT,WAKjB3I,GACC,cAAC,GAAD,CACEtI,EAAGsI,EAAStI,EACZC,EAAGqI,EAASrI,EACZqO,SAAUhG,EACVJ,OAAQ,SAACqK,GACP3N,EAAW2N,GACXvW,EAAQ/B,GACRqT,KAEFnF,SAAU,WACRnM,EAAQ/B,GACRqT,QAKJmE,EAAYxV,MAAMyU,UAAYU,IAC9B,cAAC,GAAD,CACE/I,KAAM+I,EACNpR,EAAGyR,EAAYV,SAAS/Q,EACxBC,EAAGwR,EAAYV,SAAS9Q,EACxBmI,QAAS,WACPpM,EAAQ/B,GACRqL,IACAmM,EAAYR,iBErLTuB,OAVf,WAAgB,IACN7V,EAAiBF,IAAjBE,aAER,OACE,qBAAK8B,UAAU,MAAf,SACE,cAAC,GAAD,CAAQ9B,aAAcA,O,SCFb8V,gBAAgB,CAC7BrT,KAAMsT,EACN3N,OAAQ4N,IAASC,IACjBvK,KAAMwK,GACN/O,KAAMgP,KCCOZ,GATDa,YAAe,CAC3BC,QAASC,KCGXC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUlB,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJjV,SAASyI,eAAe,U,mBCZ1BlN,EAAOC,QAAU,CAAC,KAAO,2BAA2B,SAAW,+BAA+B,cAAgB,oCAAoC,SAAW,+BAA+B,QAAU,8BAA8B,OAAS,+B,mBCA7OD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,QAAU,0B,mBCAhGD,EAAOC,QAAU,CAAC,kBAAoB,wCAAwC,KAAO,2BAA2B,OAAS,6BAA6B,GAAK,2B,mBCA3JD,EAAOC,QAAU,CAAC,cAAgB,iCAAiC,OAAS,0BAA0B,UAAY,+B,mBCAlHD,EAAOC,QAAU,CAAC,SAAW,8BAA8B,MAAQ,2BAA2B,KAAO,4B,mBCArGD,EAAOC,QAAU,CAAC,eAAiB,wCAAwC,MAAQ,kC","file":"static/js/main.2b30738c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"placer\":\"placer_placer___P3AP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Tools_controls__1Nbhf\",\"toolBtn\":\"Tools_toolBtn__2uH3c\",\"pointer\":\"Tools_pointer__1rXRd\",\"active\":\"Tools_active__3uvvl\",\"arrowSubMenu\":\"Tools_arrowSubMenu__2ucIk\",\"text\":\"Tools_text__382N8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"modal_bg__3tErl\",\"bgAppear\":\"modal_bgAppear__2XsUD\",\"dialog\":\"modal_dialog__UQRek\",\"appear\":\"modal_appear__3MYo9\"};","\nexport const KEYS = {\n  '0': '0',\n  '1': '1',\n  '2': '2',\n  v : 'v',\n  h : 'h',\n  n : 'n',\n  p : 'p',\n  e: 'e',\n  z: 'z',\n  t: 't',\n  space: ' ',\n  plus: '+',\n  minus: '-',\n  '[': '[',\n  ']': ']',\n  '?' : '?'\n}\n\nexport const MOVERS = {\n  up: 'ArrowUp',\n  down: 'ArrowDown',\n  left: 'ArrowLeft',\n  right: 'ArrowRight',\n  tab: 'Tab'\n}\n\nexport const ACTIONS = {\n  esc: 'Escape',\n  enter: 'Enter',\n  backspace: 'Backspace',\n  del: 'Delete'\n}\n\nexport const MODIFIERS = {\n  meta: 'Meta', // event.metaKey\n  shift: 'Shift', // event.shiftKey\n}\n\n// combine them all into one single object\nconst all = {\n  ...KEYS,\n  ...MODIFIERS,\n  ...MOVERS,\n  ...ACTIONS\n};\n\nexport default all;","export const TOOL_SIZE = 26;\n\nexport const POINTER = 'mouse-pointer';\nexport const DRAW = 'pencil';\nexport const ERASE = 'eraser';\nexport const NOTE = 'sticky-note';\nexport const TEXT = 'text';\n\nexport const lineColors = [\n  \"#FF6900\",\n  \"#FCB900\",\n  \"#7BDCB5\",\n  \"#00D084\",\n  \"#8ED1FC\",\n  \"#0693E3\",\n  \"#ABB8C3\",\n  \"#EB144C\",\n  \"#F78DA7\",\n  \"#9900EF\",\n];","/**\n * function that takes any amount of strings and filters out anything falsy and\n * returns a single joined string to be used in className attributes\n * @param  {...string} classNames\n */\nexport function cn(...classNames) {\n  return classNames\n    .filter((cls) => {\n      // we should only ever have non-empty strings in the array, everything\n      // else is ignored\n      return typeof cls === \"string\" && cls.trim() !== \"\";\n    })\n    .join(\" \")\n    .trim();\n}\n\nexport function isEditable(el) {\n  if (el.isContentEditable) return true;\n  const tagName = el.tagName.toLowerCase();\n  if (tagName === \"textarea\") return true;\n  if (tagName !== \"input\") return false;\n  if (el.disabled) return false;\n  if (el.readonly) return false;\n\n  const type = (el.getAttribute(\"type\") || \"text\").toLowerCase();\n  // if any of these input types is not supported by a browser, it will behave as input type text.\n  const inputTypes = [\n    \"date\",\n    \"datetime\",\n    \"datetime-local\",\n    \"email\",\n    \"month\",\n    \"number\",\n    \"password\",\n    \"search\",\n    \"tel\",\n    \"text\",\n    \"url\",\n    \"week\",\n  ];\n  if (inputTypes.includes(type)) return true;\n  \n  return false;\n}\n\n/**\n * Searches for the deepest child node of a starting parent node and specifically\n * looking in a specific index\n */\nexport function getDeepestChildAtIndex(startingEl, index = 0) {\n  const child = startingEl.children[index];\n  if (!child) return startingEl;\n  return getDeepestChildAtIndex(child, index);\n}\n\n/**\n * get a random number between min and max, inclusive\n * @param {number} min \n * @param {number} max \n */\nexport function ranB(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { POINTER } from \"features/tools/constants\";\n\nconst toolSlice = createSlice({\n  name: \"tool\",\n  initialState: {\n    cursor: POINTER,\n    draw: {\n      thickness: 5,\n      color: \"#FF6900\",\n    },\n  },\n  reducers: {\n    setTool(state, action) {\n      state.cursor = action.payload\n    },\n    setDrawColor(state, action) {\n      state.draw.color = action.payload\n    },\n    setDrawThickness(state, action) {\n      state.draw.thickness = action.payload\n    },\n  },\n});\n\nexport const { setTool, setDrawColor, setDrawThickness } = toolSlice.actions;\n\nexport default toolSlice.reducer;\n","import { useEffect, useState } from \"react\";\nimport KEYS from \"utils/KEYS\";\nimport { DRAW, ERASE, NOTE, POINTER, TEXT } from \"features/tools/constants\";\n\nimport { ActionCreators } from \"redux-undo\";\nimport { useDispatch } from \"react-redux\";\nimport { isEditable } from \"utils\";\nimport { setTool } from \"features/tools/toolSlice\";\n\nconst ACTIONS_MAP = {};\nACTIONS_MAP[KEYS.p] = DRAW;\nACTIONS_MAP[KEYS.e] = ERASE;\nACTIONS_MAP[KEYS.v] = POINTER;\nACTIONS_MAP[KEYS.n] = NOTE;\nACTIONS_MAP[KEYS.t] = TEXT;\n\nfunction useShortcuts() {\n  const [lastShortcut, setLastShortcut] = useState(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    function onKeyDown(e) {\n      if (isEditable(document.activeElement)) {\n        return;\n      }\n\n      if (e.metaKey && e.shiftKey && e.key === KEYS.z) {\n        dispatch(ActionCreators.redo());\n        return;\n      }\n\n      if (!e.shiftKey && e.metaKey && e.key === KEYS.z) {\n        dispatch(ActionCreators.undo());\n        return;\n      }\n    }\n\n    function onKeyUp(e) {\n      if (isEditable(document.activeElement)) {\n        return;\n      }\n\n      const matchingAction = ACTIONS_MAP[e.key];\n      if (matchingAction) {\n        dispatch(setTool(matchingAction));\n      }\n\n      setLastShortcut(e.key);\n      setTimeout(() => {\n        setLastShortcut(null);\n      }, 200)\n    }\n\n    window.addEventListener(\"keyup\", onKeyUp);\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return function cleanup() {\n      window.removeEventListener(\"keyup\", onKeyUp);\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [dispatch]);\n\n  return { lastShortcut };\n}\n\nexport default useShortcuts;\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { cn } from \"utils\";\nimport styles from \"./slider.module.css\";\n\nfunction Slider({\n  id,\n  label,\n  hideLabel = true,\n  step = \"1\",\n  min = \"1\",\n  max,\n  startingValue = 1,\n  onChange = (e) => {},\n  example,\n  className,\n}) {\n  const [value, setValue] = useState(startingValue);\n\n  return (\n    <div className={cn(\"form-control\", className, styles.container)}>\n      <label\n        htmlFor={id}\n        className={cn(\n          \"form-label\",\n          styles.label,\n          hideLabel && \"visually-hidden\",\n          !hideLabel && \"d-block\"\n        )}\n      >\n        {label}\n      </label>\n      <input\n        className={cn(\"form-range\", styles.range)}\n        type=\"range\"\n        id={id}\n        min={min}\n        max={max}\n        step={step}\n        value={value}\n        onChange={(e) => {\n          setValue(Number(e.target.value));\n          onChange(e);\n        }}\n      />\n      {example && <div className={styles.example}>{example(value)}</div>}\n    </div>\n  );\n}\n\nSlider.propTypes = {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  hideLabel: PropTypes.bool,\n  step: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  min: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  startingValue: PropTypes.number,\n  onChange: PropTypes.func,\n  className: PropTypes.string,\n\n  /**\n   * renderProp: if set, it will get passed the value and must return a React.Element\n   */\n  example: PropTypes.func,\n};\n\nexport default Slider;\n","import { connect } from \"react-redux\";\nimport { TwitterPicker as ColorPicker } from \"react-color\";\nimport { cn } from \"utils\";\nimport Slider from \"components/slider\";\nimport { setDrawColor, setDrawThickness } from \"features/tools/toolSlice\";\nimport { lineColors } from 'features/tools/constants';\nimport styles from \"./drawSettings.module.css\";\n\nfunction DrawSettings({ show = false, draw, setDrawColor, setDrawThickness }) {\n  return (\n    <div className={cn(styles.settingsContainer, show && styles.show)}>\n      <Slider\n        className={styles.slider}\n        id=\"drawThickness\"\n        label=\"Change the thickness of the drawing tool\"\n        min=\"1\"\n        max=\"40\"\n        startingValue={draw.thickness}\n        onChange={(e) => {\n          setDrawThickness(Number(e.target.value));\n        }}\n        example={(value) => (\n          <svg viewBox=\"0 0 100 100\" width=\"40\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g>\n              <circle cx=\"50%\" cy=\"50%\" r={value} fill={draw.color} />\n              <text\n                x=\"50%\"\n                y=\"50%\"\n                className={styles.px}\n                textAnchor=\"middle\"\n                dominantBaseline=\"middle\"\n              >\n                {value}\n              </text>\n            </g>\n          </svg>\n        )}\n      />\n      <ColorPicker\n        color={draw.color}\n        triangle={null}\n        colors={lineColors}\n        onChange={(c) => {\n          setDrawColor(c.hex);\n        }}\n      />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  draw: state.tool.draw,\n});\n\nconst mapDispatchToProps = { setDrawThickness, setDrawColor };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DrawSettings);\n","import React, { useEffect, useRef, useState, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { cn } from \"utils\";\nimport KEYS from \"utils/KEYS\";\nimport styles from \"./draggable.module.scss\";\n\n/**\n * a11y help: https://medium.com/salesforce-ux/4-major-patterns-for-accessible-drag-and-drop-1d43f64ebf09\n *\n * TODO: Aria live region\n */\n\nfunction Draggable({ id, children, startX = 0, startY = 0, onDragEnd = ({x,y}) => {} }) {\n  const childRef = useRef(null);\n  const isDragging = useRef(false);\n  const isUsingKeys = useRef(null);\n  const [isKeyDragging, setIsKeyDragging] = useState(false);\n  const rect = useRef(null);\n  const [pos, setPos] = useState({ x: startX, y: startY });\n\n  /**\n   * This gets the dimensions of the draggable items just once on mount so that\n   * we can prevent the draggable item from going out of the bounds of the window\n   */\n  useEffect(() => {\n    rect.current = childRef.current.getBoundingClientRect();\n  }, []);\n\n  const onKeyMove = useCallback((e) => {\n    const spaces = e.shiftKey ? 20 : 5;\n    switch (e.key) {\n      case KEYS.right:\n        setPos((p) => {\n          if (p.x >= window.innerWidth - rect.current.width) return p;\n          return {\n            x: p.x + spaces,\n            y: p.y,\n          };\n        });\n        break;\n      case KEYS.left:\n        setPos((p) => {\n          if (p.x <= 20) {\n            return p;\n          }\n          return {\n            x: p.x - spaces,\n            y: p.y,\n          };\n        });\n        break;\n      case KEYS.up:\n        setPos((p) => {\n          if (p.y <= 20) {\n            return p;\n          }\n          return {\n            x: p.x,\n            y: p.y - spaces,\n          };\n        });\n        break;\n      case KEYS.down:\n        setPos((p) => {\n          if (p.y >= window.innerHeight - rect.current.height) return p;\n          return {\n            x: p.x,\n            y: p.y + spaces,\n          };\n        });\n        break;\n      default:\n      // do nothing\n    }\n  }, []);\n\n  function disableKeys() {\n    if (isUsingKeys.current) {\n      window.removeEventListener(\"keydown\", onKeyMove);\n      isUsingKeys.current = null;\n      setIsKeyDragging(false);\n    }\n  }\n\n  function disableMouse() {\n    if (isDragging.current) {\n      isDragging.current = false;\n      window.removeEventListener(\"mousemove\", onMouseMove);\n      window.removeEventListener(\"mouseup\", disableMouse);\n      document.body.classList.remove(\"cursor-grabbing\");\n      onDragEnd(pos)\n    }\n  }\n\n  function onMouseMove(e) {\n    if (!isDragging.current) {\n      return;\n    }\n    setPos((p) => {\n      let x = e.clientX;\n      let y = e.clientY;\n\n      if (x >= window.innerWidth - rect.current.width) {\n        x = p.x;\n      } else if (x <= 5) {\n        x = 5;\n      }\n\n      if (y >= window.innerHeight - rect.current.height) {\n        y = p.y;\n      } else if (y <= 5) {\n        y = 5;\n      }\n\n      return {\n        x,\n        y,\n      };\n    });\n  }\n\n  /**\n   * This begins the drag listener by attaching events to the window\n   */\n  function onMouseDown(e) {\n    if (e.button === 0) {\n      e.preventDefault();\n      disableKeys();\n      isDragging.current = true;\n      window.addEventListener(\"mousemove\", onMouseMove);\n      window.addEventListener(\"mouseup\", disableMouse);\n      document.body.classList.add(\"cursor-grabbing\");\n    }\n  }\n\n  function onKeyUp(e) {\n    if (isUsingKeys.current) {\n      switch (e.key) {\n        case KEYS.enter:\n        case KEYS.space:\n          disableKeys();\n          onDragEnd(pos)\n          break;\n        case KEYS.esc:\n          // reset to original position\n          setPos(isUsingKeys.current);\n          disableKeys();\n          break;\n        default:\n        // nothing\n      }\n      return;\n    }\n\n    if (!isUsingKeys.current && (e.key === KEYS.space || e.key === KEYS.enter)) {\n      disableMouse();\n      isUsingKeys.current = { ...pos };\n      setIsKeyDragging(true);\n      window.addEventListener(\"keydown\", onKeyMove);\n    }\n  }\n\n  // offset the position of the handle so it doesn't jump (much) when grabbing it\n  const x = pos.x - 7;\n  const y = pos.y - 15;\n\n  const finalClass = isKeyDragging\n    ? cn(children.props.className, styles.keyMoving)\n    : children.props.className;\n\n  return (\n    <div className={cn(styles.dragContainer)} style={{ top: `${y}px`, left: `${x}px` }}>\n      <span id={id} className=\"visually-hidden\">\n        Press Spacebar to Grab\n      </span>\n      <button\n        className={styles.handle}\n        onMouseDown={onMouseDown}\n        onKeyUp={onKeyUp}\n        aria-describedby={id}\n      >\n        <span className=\"visually-hidden\">Move {id} on the canvas</span>\n      </button>\n\n      {/* There should only be one child */}\n      {React.cloneElement(children, { ref: childRef, className: finalClass })}\n    </div>\n  );\n}\n\nDraggable.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  onDragEnd: PropTypes.func,\n};\n\nexport default Draggable;\n","import { useState } from 'react';\nimport { connect } from \"react-redux\";\n\nimport { setTool } from \"features/tools/toolSlice\";\nimport { DRAW, ERASE, NOTE, POINTER, TEXT } from \"features/tools/constants\";\nimport { cn } from \"utils\";\nimport DrawSettings from \"features/tools/drawSettings\";\nimport Draggable from 'components/draggable';\n\nimport { ReactComponent as Pointer } from \"@fortawesome/fontawesome-free/svgs/solid/mouse-pointer.svg\";\nimport { ReactComponent as Pen } from \"@fortawesome/fontawesome-free/svgs/solid/pen.svg\";\nimport { ReactComponent as Note } from \"@fortawesome/fontawesome-free/svgs/solid/sticky-note.svg\";\nimport { ReactComponent as Eraser } from \"@fortawesome/fontawesome-free/svgs/solid/eraser.svg\";\nimport styles from \"./Tools.module.css\";\n\nfunction Tools({ setTool, cursor }) {\n  const [showSettings, setShowSettings] = useState(false);\n\n  return (\n    <Draggable id=\"drag-tools\" startX={20} startY={window.innerHeight * 0.2}>\n      <div className={`shadow-light ${styles.controls}`}>\n        <button\n          id={`tool-${POINTER}`}\n          type=\"button\"\n          className={cn(\n            \"btn-clear\",\n            styles.toolBtn,\n            styles.pointer,\n            cursor === POINTER && styles.active\n          )}\n          data-tooltip=\"Select (V)\"\n          onClick={() => {\n            setShowSettings(false);\n            setTool(POINTER);\n          }}\n        >\n          <Pointer />\n        </button>\n        <button\n          id={`tool-${DRAW}`}\n          type=\"button\"\n          className={cn(\"btn-clear\", styles.toolBtn, cursor === DRAW && styles.active)}\n          data-tooltip=\"Draw (P)\"\n          onClick={() => {\n            setShowSettings(false);\n            if (cursor !== DRAW) {\n              setTool(DRAW);\n              return;\n            } else {\n              setShowSettings(!showSettings);\n            }\n          }}\n        >\n          <Pen />\n          <span className={styles.arrowSubMenu}/>\n        </button>\n        <DrawSettings show={cursor === DRAW && showSettings}  />\n        <button\n          id={`tool-${ERASE}`}\n          type=\"button\"\n          className={cn(\"btn-clear\", styles.toolBtn, cursor === ERASE && styles.active)}\n          data-tooltip=\"Erase (E)\"\n          onClick={() => {\n            setShowSettings(false);\n            setTool(ERASE);\n          }}\n        >\n          <Eraser />\n        </button>\n        <button\n          id={`tool-${NOTE}`}\n          type=\"button\"\n          className={cn(\"btn-clear\", styles.toolBtn, cursor === NOTE && styles.active)}\n          data-tooltip=\"Note (N)\"\n          onClick={() => {\n            setShowSettings(false);\n            setTool(NOTE);\n          }}\n        >\n          <Note />\n        </button>\n        <button\n          id={`tool-${TEXT}`}\n          type=\"button\"\n          className={cn(\"btn-clear\", styles.toolBtn, cursor === TEXT && styles.active)}\n          data-tooltip=\"Text (T)\"\n          onClick={() => {\n            setShowSettings(false);\n            setTool(TEXT);\n          }}\n        >\n          <span className={styles.text}>T</span>\n        </button>\n      </div>\n    </Draggable>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  cursor: state.tool.cursor,\n});\n\nconst mapDispatchToProps = { setTool };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Tools);\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { v1 as uuidv1 } from \"uuid\";\n\n/**\n * This reducer/state will hold on the content placed on the canvas and will\n * allow us to under/redo it\n */\nconst canvasSlice = createSlice({\n  name: \"canvas\",\n  initialState: {\n    lines: [],\n    items: [],\n  },\n  reducers: {\n    /**************************************************\n     * Drawing lines\n     */\n    setLines(state, action) {\n      return {\n        ...state,\n        lines: action.payload,\n      };\n    },\n    addLine(state, action) {\n      return {\n        ...state,\n        lines: [...state.lines, action.payload],\n      };\n    },\n\n    /**************************************************\n     * all other items\n     */\n    addItem(state, action) {\n      if (!action.payload.type) {\n        throw new Error(\"item is missing a type \" + JSON.stringify(action.payload));\n      }\n\n      /**\n       * deselect any previous item\n       */\n      const deselected = state.items.map((n) => {\n        n.selected = false;\n        return n;\n      });\n\n      // give new item an id\n      action.payload.id = uuidv1();\n\n      // add item\n      state.items = [...deselected, action.payload];\n    },\n\n    updateItem(state, action) {\n      /**\n       * deselect any previous item\n       * replace item with matching ID with one in the payload\n       */\n      state.items = state.items.map((n) => {\n        n.selected = false;\n        if (n.id === action.payload.id) {\n          return action.payload;\n        }\n        return n;\n      });\n    },\n\n    deleteItem(state) {\n      // delete the currently selected note\n      state.items = state.items.filter((n) => !n.selected);\n    },\n  },\n});\n\nexport const { setLines, addLine, addItem, updateItem, deleteItem } = canvasSlice.actions;\n\nexport const selectLines = (state) => state.canvas.present.lines;\n\nexport default canvasSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst noteSlice = createSlice({\n  name: \"note\",\n  initialState: { activeNote: undefined, newNote: undefined },\n  reducers: {\n    setActiveNote(state, action) {\n      state.activeNote = action.payload;\n    },\n    clearActiveNote(state) {\n      state.activeNote = undefined;\n    },\n    setNewNote(state, action) {\n      state.newNote = action.payload;\n    },\n    clearNewNote(state) {\n      state.newNote = undefined;\n    },\n  },\n});\n\nexport const { setActiveNote, clearActiveNote, setNewNote, clearNewNote } = noteSlice.actions;\n\nexport default noteSlice.reducer;\n","import { useEffect, useRef, forwardRef, useImperativeHandle } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport KEYS from \"utils/KEYS\";\nimport styles from \"./modal.module.css\";\n\nconst modalContainer = document.getElementById(\"modal-root\");\n\nfunction Modal({ id, title, hideTitle = false, children, onHide = () => {} }, ref) {\n  const bgRef = useRef(null);\n  const dialogRef = useRef(null);\n\n  useEffect(() => {\n    document.body.classList.add(\"has-dialog\");\n    document.querySelector(\"#root\").setAttribute(\"aria-hidden\", \"true\");\n\n    setTimeout(() => {\n      if (dialogRef.current) {\n        dialogRef.current.classList.add(styles.appear);\n      }\n      if (bgRef.current) {\n        bgRef.current.classList.add(styles.bgAppear);\n      }\n    }, 100);\n\n    return function cleanup() {\n      document.body.classList.remove(\"has-dialog\");\n      document.querySelector(\"#root\").removeAttribute(\"aria-hidden\");\n    };\n  }, []);\n\n  function animatedHide() {\n    dialogRef.current.classList.remove(styles.appear);\n    bgRef.current.classList.remove(styles.bgAppear);\n    setTimeout(onHide, 350);\n  }\n\n  function onBgKeyUp(e) {\n    if (e.key === KEYS.esc) {\n      animatedHide();\n    }\n  }\n\n  function onBgClick(e) {\n    if (e.target.classList.contains(styles.bg)) {\n      animatedHide();\n    }\n  }\n\n  useImperativeHandle(ref, () => ({\n    hide: animatedHide,\n  }));\n\n  const content = (\n    <div ref={bgRef} className={styles.bg} onKeyUp={onBgKeyUp} onClick={onBgClick}>\n      <div\n        role=\"dialog\"\n        id={id}\n        aria-labelledby={`${id}_label`}\n        aria-modal=\"true\"\n        className={styles.dialog}\n        ref={dialogRef}\n      >\n        <div id={`${id}_label`} className={hideTitle ? \"visually-hidden\" : null}>\n          {title}\n        </div>\n        {children}\n      </div>\n    </div>\n  );\n\n  return createPortal(content, modalContainer);\n}\n\nexport default forwardRef(Modal);\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { cn } from \"utils\";\nimport styles from \"./colorPicker.module.scss\";\n\nfunction ColorPicker({ className, selected, palette, onSelectColor = (color) => {} }) {\n  const [active, setActive] = useState(selected);\n\n  return (\n    <fieldset className={cn(styles.fieldset, className)}>\n      <legend className=\"visually-hidden\">Select a color</legend>\n      {palette.map((color) => (\n        <div className={`form-group ${styles.wrap}`} key={color}>\n          <input\n            className={styles.radio}\n            type=\"radio\"\n            name=\"color\"\n            id={`color-${color}`}\n            checked={color === active}\n            onChange={(e) => {\n              setActive(e.target.value);\n              onSelectColor(e.target.value);\n            }}\n            value={color}\n          />\n          <label htmlFor={`color-${color}`} style={{ backgroundColor: color }}>\n            {color}\n          </label>\n        </div>\n      ))}\n    </fieldset>\n  );\n}\n\nColorPicker.propTypes = {\n  /**\n   * Add a className to the containing fieldset to alter styles locally\n   */\n  className: PropTypes.string,\n\n  /**\n   * Set the selected color\n   */\n  selected: PropTypes.string,\n\n  /**\n   * populate the color palette\n   */\n  palette: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n  /**\n   * event handler when a new color is selected\n   */\n  onSelectColor: PropTypes.func,\n};\n\nexport default ColorPicker;\n","import { useEffect, useState, useRef } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { updateItem } from \"canvas/canvasSlice\";\nimport { setNewNote } from \"features/note/noteSlice\";\n\nimport Slider from \"components/slider\";\nimport Modal from \"components/modal\";\nimport ColorPicker from \"components/colorPicker\";\nimport { cn } from \"utils\";\nimport { NOTE } from 'features/tools/constants';\nimport styles from \"./addNoteModal.module.css\";\n\nconst ColorPalette = [\"#feff9c\", \"#6ed2d0\", \"#def350\", \"#ff6b81\", \"#ff339a\", \"#ff992a\"];\n\nconst defaultNote = {\n  type: NOTE,\n  id: null,\n  x: null,\n  y: null,\n  width: 300,\n  height: 300,\n  text: \"\",\n  fontSize: 32,\n  color: ColorPalette[0],\n  scaleX: 0.75,\n  scaleY: 0.75,\n  rotation: 0\n};\n\nfunction AddNoteModal({\n  onSave = () => {},\n  onCancel = () => {},\n  onClose = () => {}, // closing for any reason, cancel or save\n  note = defaultNote,\n  x,\n  y,\n  updateItem,\n  setNewNote,\n}) {\n  const [editText, setEditText] = useState(note.text);\n  const [fontSize, setFontSize] = useState(note.fontSize);\n  const [currentColor, setCurrentColor] = useState(note.color);\n  const noteRef = useRef(null);\n  const noteWrapRef = useRef(null);\n\n  const modalRef = useRef(null);\n\n  useEffect(() => {\n    if (noteRef.current) {\n      noteRef.current.focus();\n    }\n  }, [noteRef]);\n\n  return (\n    <Modal\n      id=\"addNote\"\n      title=\"Add Sticky Note\"\n      hideTitle\n      ref={modalRef}\n      onHide={() => {\n        onClose();\n      }}\n    >\n      <div>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n\n            const newNote = {\n              text: editText,\n              fontSize,\n              color: currentColor,\n            };\n\n            if (!note.id) {\n              // new note\n              newNote.x = x;\n              newNote.y = y;\n              const bounds = noteWrapRef.current.getBoundingClientRect();\n              newNote.origin = { x: bounds.x, y: bounds.y };\n              setNewNote(Object.assign({}, note, newNote));\n            } else {\n              // update to existing note\n              updateItem(Object.assign({}, note, newNote));\n            }\n\n            onSave();\n            modalRef.current.hide();\n          }}\n        >\n          <div\n            ref={noteWrapRef}\n            style={{ backgroundColor: currentColor }}\n            className={cn(\"form-group\", \"flex-center\", styles.note)}\n          >\n            <label className=\"visually-hidden\" id=\"stickyNoteLabel\">\n              Enter your sticky note text\n            </label>\n            <div className={styles.textContainer}>\n              <div\n                ref={noteRef}\n                style={{ fontSize: fontSize + \"px\" }}\n                role=\"textbox\"\n                aria-multiline=\"true\"\n                aria-labelledby=\"stickyNoteLabel\"\n                aria-required=\"true\"\n                className={styles.textEdit}\n                contentEditable={true}\n                suppressContentEditableWarning={true}\n                tabIndex={0}\n                onInput={(e) => {\n                  // @ts-ignore\n                  setEditText(e.target.textContent);\n                }}\n              >\n                {note.text}\n              </div>\n            </div>\n          </div>\n          <div className={styles.actions}>\n            <Slider\n              hideLabel={false}\n              id=\"noteFontSize\"\n              label=\"Change the font size\"\n              min=\"32\"\n              max=\"128\"\n              startingValue={fontSize}\n              onChange={(e) => {\n                setFontSize(Number(e.target.value));\n              }}\n            />\n            <div className={cn(\"p-2\", styles.colors)}>\n              <ColorPicker\n                selected={currentColor}\n                palette={ColorPalette}\n                onSelectColor={(color) => {\n                  setCurrentColor(color);\n                }}\n              />\n            </div>\n            <div className=\"d-flex justify-content-end mt-4 pe-2\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  onCancel();\n                  modalRef.current.hide();\n                }}\n              >\n                cancel\n              </button>\n\n              <button\n                className=\"btn btn-primary ms-2\"\n                type=\"submit\"\n              >\n                save\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n}\n\nconst matchDispatchToProps = {\n  updateItem,\n  setNewNote,\n};\n\nexport default connect(null, matchDispatchToProps)(AddNoteModal);\n","import PropTypes from \"prop-types\";\nimport { Line } from \"react-konva\";\nimport { ERASE } from \"features/tools/constants\";\n\nexport const linePropType = PropTypes.shape({\n  tool: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  thickness: PropTypes.number.isRequired,\n  points: PropTypes.arrayOf(PropTypes.number).isRequired,\n});\n\nfunction DrawSingleLine({ line }) {\n  if (!line) return null;\n  return (\n    <Line\n      points={line.points}\n      stroke={line.color}\n      strokeWidth={line.tool === ERASE ? 20 : line.thickness}\n      tension={0.5}\n      lineCap={line.tool === ERASE ? \"square\" : \"round\"}\n      globalCompositeOperation={line.tool === ERASE ? \"destination-out\" : \"source-over\"}\n    />\n  );\n}\n\nDrawSingleLine.propTypes = {\n  line: linePropType,\n};\n\nexport default DrawSingleLine;\n","import PropTypes from \"prop-types\";\nimport DrawSingleLine, { linePropType } from \"features/draw/line\";\n\nfunction Draw({ lines = [] }) {\n  return (\n    <>\n      {lines.map((line, i) => (\n        <DrawSingleLine key={`line-${i}`} line={line} />\n      ))}\n    </>\n  );\n}\n\nDraw.propTypes = {\n  lines: PropTypes.arrayOf(linePropType),\n};\n\nexport default Draw;\n","import React, { useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Transformer } from \"react-konva\";\n\nfunction Transformable({\n  enabled = false,\n  onTransformEnd,\n  onTransform = (node, e) => {},\n  minWidth = 100,\n  minHeight = 100,\n  withRef = null,\n  children,\n\n  /**\n   * opinionated Transform option defaults\n   */\n  anchors = [\"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"],\n  keepRatio = true,\n  rotateEnabled = true,\n\n  /**\n   * see docs for more Transformer options\n   * https://konvajs.org/api/Konva.Transformer.html\n   */\n  ...transformProps\n}) {\n  const nodeRef = useRef(null);\n  const trRef = useRef(null);\n\n  useEffect(() => {\n    if (enabled) {\n      // we need to attach transformer manually\n      trRef.current.nodes([nodeRef.current]);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [enabled]);\n\n  useEffect(() => {\n    if (typeof withRef === \"function\" && nodeRef.current) {\n      withRef(nodeRef);\n    }\n  }, [nodeRef, withRef]);\n\n  function onEnd(e) {\n    onTransformEnd(nodeRef.current, e);\n  }\n\n  function duringTransform(e) {\n    onTransform(nodeRef.current, e);\n  }\n\n  return (\n    <>\n      {/* Transformable only works on a single child */}\n      {React.cloneElement(children, {\n        ref: nodeRef,\n        onTransformEnd: onEnd,\n        onTransform: duringTransform,\n      })}\n\n      {enabled && (\n        <Transformer\n          {...transformProps}\n          ref={trRef}\n          keepRatio={keepRatio}\n          rotateEnabled={rotateEnabled}\n          enabledAnchors={anchors}\n          boundBoxFunc={(oldBox, newBox) => {\n            if (newBox.width < minWidth || newBox.height < minHeight) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </>\n  );\n}\n\nTransformable.propTypes = {\n  /**\n   * Toggle the transform on/off\n   */\n  enabled: PropTypes.bool,\n\n  /**\n   * set which anchors you want to add to the transform\n   * https://konvajs.org/api/Konva.Transformer.html#enabledAnchors__anchor\n   */\n  anchors: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * set should we keep ratio while resize anchors at corner\n   * https://konvajs.org/api/Konva.Transformer.html#keepRatio__anchor\n   */\n  keepRatio: PropTypes.bool,\n\n  /**\n   * set ability to rotate.\n   */\n  rotateEnabled: PropTypes.bool,\n\n  /**\n   * callback when transform has been completed. It will get pass 2 args:\n   * (currentNode, event)\n   */\n  onTransformEnd: PropTypes.func,\n\n  /**\n   * set a min width to the element\n   */\n  minWidth: PropTypes.number,\n\n  /**\n   * set a min height to the element\n   */\n  minHeight: PropTypes.number,\n\n  /**\n   * runs a function any time the child ref changes\n   */\n  withRef: PropTypes.func,\n\n  /**\n   * Must be a single child and a Konva react element\n   */\n  children: PropTypes.node.isRequired,\n};\n\nexport default Transformable;\n","import { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { Rect, Group, Text } from \"react-konva\";\nimport { addItem, updateItem } from \"canvas/canvasSlice\";\nimport { setActiveNote, clearNewNote } from \"features/note/noteSlice\";\nimport { POINTER } from \"features/tools/constants\";\nimport Transformable from \"components/Transformable\";\n\nexport const notePropTypes = PropTypes.shape({\n  id: PropTypes.string,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  text: PropTypes.string.isRequired,\n  fontSize: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  scaleX: PropTypes.number,\n  scaleY: PropTypes.number,\n  rotation: PropTypes.number,\n});\n\nfunction Note({ note, setActiveNote, currentTool, clearNewNote, addItem, updateItem }) {\n  function onClick(e) {\n    /* handle double-click which puts the note into edit mode */\n    if (e.evt.detail === 2) {\n      setActiveNote(note);\n      return;\n    }\n  }\n\n  function setSelected(e) {\n    /* handle select and transform */\n    if (e.evt.detail === 1 && !note.selected) {\n      updateItem({\n        ...note,\n        selected: true,\n      });\n    }\n  }\n\n  function onDragEnd(e) {\n    updateItem({\n      ...note,\n      x: e.target.x(),\n      y: e.target.y(),\n    });\n  }\n\n  function onTransformEnd(node) {\n    updateItem({\n      ...note,\n      x: node.x(),\n      y: node.y(),\n      scaleX: node.scaleX(),\n      scaleY: node.scaleY(),\n      rotation: node.rotation(),\n    });\n  }\n\n  return (\n    <Transformable\n      enabled={note.selected && currentTool === POINTER}\n      onTransformEnd={onTransformEnd}\n      withRef={(noteRef) => {\n        /**\n         * This will handle animating the note when first added to the canvas\n         * and then once done it'll remove the note from the temporary \"newNote\"\n         * state and move it to the main undoable state\n         */\n        if (noteRef.current && note.origin) {\n          noteRef.current.to({\n            x: note.x,\n            y: note.y,\n            duration: 0.2,\n            onFinish: () => {\n              addItem({\n                ...note,\n                origin: null,\n              });\n              clearNewNote();\n            },\n          });\n        }\n      }}\n    >\n      <Group\n        draggable={currentTool === POINTER}\n        x={note.origin ? note.origin.x : note.x}\n        y={note.origin ? note.origin.y : note.y}\n        rotation={note.rotation}\n        onClick={onClick}\n        onDragEnd={onDragEnd}\n        onMouseDown={setSelected}\n        scaleX={note.scaleX}\n        scaleY={note.scaleY}\n      >\n        <Rect\n          fill={note.color}\n          width={note.width}\n          height={note.height}\n          shadowOffsetX={0}\n          shadowOffsetY={5}\n          shadowBlur={3}\n          shadowEnabled={true}\n          shadowColor=\"#3c4043\"\n          shadowOpacity={0.26}\n        />\n        <Text\n          width={note.width}\n          height={note.height}\n          text={note.text}\n          fontSize={note.fontSize}\n          fontFamily=\"sans-serif\"\n          fill=\"#000000\"\n          align=\"center\"\n          verticalAlign=\"middle\"\n          fontStyle=\"bold\"\n        />\n      </Group>\n    </Transformable>\n  );\n}\n\nNote.propTypes = {\n  note: notePropTypes.isRequired,\n  updateItem: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  currentTool: state.tool.cursor,\n});\n\nconst matchDispatchToProps = {\n  addItem,\n  updateItem,\n  setActiveNote,\n  clearNewNote,\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(Note);\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst textSlice = createSlice({\n  name: \"text\",\n  initialState: { activeText: undefined },\n  reducers: {\n    setActiveText(state, action) {\n      state.activeText = action.payload;\n    },\n    clearActiveText(state) {\n      state.activeText = undefined;\n    },\n  },\n});\n\nexport const { setActiveText, clearActiveText } = textSlice.actions;\n\nexport default textSlice.reducer;\n","import { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { Text } from \"react-konva\";\nimport { updateItem } from \"canvas/canvasSlice\";\nimport { setActiveText } from \"features/text/textSlice\";\nimport { POINTER } from \"features/tools/constants\";\nimport Transformable from \"components/Transformable\";\n\nexport const textPropTypes = PropTypes.shape({\n  id: PropTypes.string,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  text: PropTypes.string,\n  fontSize: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  scaleX: PropTypes.number,\n  scaleY: PropTypes.number,\n  rotation: PropTypes.number,\n});\n\nfunction TextSingle({ data, updateItem, setActiveText, currentTool, currentActiveText }) {\n  function onClick(e) {\n    /* handle double-click which puts the text into edit mode */\n    if (e.evt.detail === 2) {\n      setActiveText(data);\n      return;\n    }\n  }\n\n  function setSelected(e) {\n    /* handle select and transform */\n    if (e.evt.detail === 1 && !data.selected) {\n      updateItem({\n        ...data,\n        selected: true,\n      });\n    }\n  }\n\n  function onDragEnd(e) {\n    updateItem({\n      ...data,\n      x: e.target.x(),\n      y: e.target.y(),\n    });\n  }\n\n  function onTransformEnd(node) {\n    updateItem({\n      ...data,\n      x: node.x(),\n      y: node.y(),\n      width: node.width(),\n      height: node.height()\n    });\n  }\n\n  return (\n    <Transformable\n      anchors={[\n        \"top-left\",\n        \"top-right\",\n        \"bottom-left\",\n        \"bottom-right\",\n        \"top-center\",\n        \"bottom-center\",\n        \"middle-left\",\n        \"middle-right\",\n      ]}\n      keepRatio={false}\n      enabled={data.selected && currentTool === POINTER && currentActiveText?.id !== data.id}\n      onTransformEnd={onTransformEnd}\n      onTransform={(node) => {\n        const w = Math.max(node.width() * node.scaleX(), 40);\n        const h = Math.max(node.height() * node.scaleY(), 40);\n        node.setAttrs({\n          width: w,\n          height: h,\n          scaleX: 1,\n          scaleY: 1,\n        });\n      }}\n    >\n      <Text\n        draggable={currentTool === POINTER}\n        x={data.x}\n        y={data.y}\n        rotation={data.rotation}\n        onClick={onClick}\n        onDragEnd={onDragEnd}\n        onMouseDown={setSelected}\n        scaleX={data.scaleX}\n        scaleY={data.scaleY}\n        width={data.width}\n        height={data.height}\n        text={currentActiveText?.id === data.id ? '' : data.text}\n        fontSize={data.fontSize}\n        fontFamily=\"sans-serif\"\n        fill=\"#000000\"\n        align=\"left\"\n        verticalAlign=\"top\"\n        fontStyle=\"bold\"\n        lineHeight={1.5}\n      />\n    </Transformable>\n  );\n}\n\nTextSingle.propTypes = {\n  data: textPropTypes,\n  updateItem: PropTypes.func,\n  setActiveText: PropTypes.func,\n  currentTool: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  currentTool: state.tool.cursor,\n  currentActiveText: state.text.activeText\n});\n\nconst matchDispatchToProps = {\n  updateItem,\n  setActiveText,\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(TextSingle);\n","import { Layer } from \"react-konva\";\nimport Draw from \"features/draw\";\nimport Note from \"features/note\";\nimport Text from \"features/text\";\nimport { NOTE, TEXT } from \"features/tools/constants\";\n\nfunction DrawItem({ item }) {\n  switch (item.type) {\n    case NOTE:\n      return <Note note={item} key={item.id} />;\n    case TEXT:\n      return <Text data={item} key={item.id} />;\n    default:\n      return null;\n  }\n}\n\n/**\n * TODO: merge state into one array so that order can be manipulated\n */\nfunction LayerManager({ items, lines, newNote }) {\n  const selected = items.find((e) => e.selected);\n\n  return (\n    <Layer>\n      <Draw lines={lines} />\n      {items\n        .filter((e) => !e.selected)\n        .map((item) => (\n          <DrawItem item={item} key={item.id} />\n        ))}\n      {selected && <DrawItem item={selected} />}\n      {newNote && <Note note={newNote} />}\n    </Layer>\n  );\n}\n\nexport default LayerManager;\n","import { useEffect, useRef } from \"react\";\nimport { ACTIONS } from \"utils/KEYS\";\nimport styles from \"./index.module.scss\";\n\nfunction Placer({ width, height, onFinish, onCancel }) {\n  const ref = useRef(null);\n\n  useEffect(() => {\n    function onMove(e) {\n      if (ref.current) {\n        ref.current.style.top = `${e.clientY}px`;\n        ref.current.style.left = `${e.clientX}px`;\n      }\n    }\n\n    function onClick(e) {\n      onFinish(e.clientX, e.clientY, e);\n    }\n\n    function onKeyUp(e) {\n      if (e.key === ACTIONS.esc) {\n        onCancel();\n      }\n    }\n\n    window.addEventListener(\"mousemove\", onMove);\n    window.addEventListener(\"click\", onClick);\n    window.addEventListener(\"keyup\", onKeyUp);\n\n    return function cleanup() {\n      window.removeEventListener(\"mousemove\", onMove);\n      window.removeEventListener(\"click\", onClick);\n      window.removeEventListener(\"keyup\", onKeyUp);\n    };\n  }, [onCancel, onFinish]);\n\n  return (\n    <div\n      ref={ref}\n      style={{\n        width: `${width}px`,\n        height: `${height}px`,\n      }}\n      className={styles.placer}\n    />\n  );\n}\n\nexport default Placer;\n","import { useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Draggable from \"components/draggable\";\nimport KEYS from \"utils/KEYS\";\nimport { TEXT } from \"features/tools/constants\";\nimport { textPropTypes } from \"features/text\";\nimport styles from \"./index.module.scss\";\n\nconst defaultText = {\n  type: TEXT,\n  x: 0,\n  y: 0,\n  width: null,\n  height: null,\n  text: \"\",\n  fontSize: 32,\n  color: \"#000000\",\n  scaleX: 1,\n  scaleY: 1,\n  rotation: 0,\n};\n\nfunction FlyingTextInput({ x = 0, y = 0, textData = defaultText, onSave, onCancel }) {\n  const positionRef = useRef({x, y});\n  const inputRef = useRef(null);\n\n  function onKeyUp(e) {\n    if (e.key === KEYS.enter) {\n      // onSave(e.target.value);\n    } else if (e.key === KEYS.esc) {\n      onCancel();\n    }\n  }\n\n  const styleObj =\n    textData.width && textData.height\n      ? { width: textData.width, height: textData.height }\n      : {\n          width: 400,\n          height: 58,\n        };\n\n  return (\n    <Draggable\n      id=\"flyingTextInput\"\n      startX={x}\n      // 20px padding-top of container + 5px padTop of input\n      startY={y - 25}\n      onDragEnd={(pos) => {\n        positionRef.current = pos;\n        console.log(positionRef.current, pos)\n      }}\n    >\n      <form className={styles.inputContainer}>\n        <label className=\"visually-hidden\" htmlFor=\"enterText\">\n          Add text to canvas\n        </label>\n        <div\n          style={styleObj}\n          ref={inputRef}\n          autoCorrect=\"off\"\n          autoCapitalize=\"off\"\n          role=\"textbox\"\n          aria-multiline=\"true\"\n          aria-labelledby=\"enterText\"\n          className={styles.input}\n          contentEditable={true}\n          suppressContentEditableWarning={true}\n          tabIndex={0}\n          onKeyUp={onKeyUp}\n          onBlur={(e) => {\n            if (!e.target.textContent.trim()) {\n              onCancel();\n              return;\n            }\n            const rect = inputRef.current.getBoundingClientRect();\n            onSave({\n              ...textData,\n              x: positionRef.current.x,\n              y: positionRef.current.y,\n              width: rect.width,\n              height: rect.height,\n              text: e.target.textContent,\n            });\n          }}\n        >\n          {textData.text}\n        </div>\n      </form>\n    </Draggable>\n  );\n}\n\nFlyingTextInput.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  text: textPropTypes,\n  onSave: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n};\n\nexport default FlyingTextInput;\n","import { useState, useRef, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectLines, setLines as reducerSetLine } from \"canvas/canvasSlice\";\nimport { DRAW, TOOL_SIZE } from \"features/tools/constants\";\n\nconst eraserOffset = TOOL_SIZE / 2;\n\nfunction connectPoints(e, tool, lines) {\n  const point = e.target.getStage().getPointerPosition();\n  let lastLine = lines[lines.length - 1];\n\n  /**\n   * Offset for the Draw tool to get it to match up with the tip of the pen\n   * Offset for the Erase tool to center it within the square\n   */\n  if (tool === DRAW) {\n    lastLine.points = lastLine.points.concat([point.x, point.y + TOOL_SIZE]);\n  } else {\n    lastLine.points = lastLine.points.concat([point.x + eraserOffset, point.y + eraserOffset]);\n  }\n\n  // replace last\n  lines.splice(lines.length - 1, 1, lastLine);\n  return Array.from(lines);\n}\n\n\n\n/**\n * useDraw hook\n * for better performance this hook keeps the lines in its own internal state and\n * updates global redux state only on MouseUp.\n */\nfunction useDraw() {\n  const [tool, setTool] = useState(DRAW);\n  const [lines, setLines] = useState([]);\n  const isDrawing = useRef(false);\n  const isMoving = useRef(false);\n  const dispatch = useDispatch();\n\n  const color = useSelector((state) => state.tool.draw.color);\n  const thickness = useSelector((state) => state.tool.draw.thickness);\n  const linesFromState = useSelector(selectLines);\n\n  /**\n   * When lines in redux state are updated because of undo/redo then we need\n   * to update the local state here\n   */\n  useEffect(() => {\n    setLines(linesFromState);\n  }, [linesFromState, setLines]);\n\n  const drawMouseDown = (e) => {\n    if (e.evt.button !== 0) return;\n\n    isDrawing.current = true;\n    const pos = e.target.getStage().getPointerPosition();\n\n    if (tool === DRAW) {\n      const newLines = Array.from(lines);\n      newLines.push({ tool, color, thickness, points: [pos.x, pos.y + TOOL_SIZE] });\n      setLines(newLines);\n    } else {\n      const newLines = Array.from(lines);\n      newLines.push({ tool, color, thickness, points: [pos.x + eraserOffset, pos.y + eraserOffset] });\n      setLines(newLines);\n    }\n  };\n\n  const drawMouseMove = (e) => {\n    // no drawing - skipping\n    if (!isDrawing.current) {\n      return;\n    }\n    isMoving.current = true;\n    setLines(connectPoints(e, tool, lines));\n  };\n\n  const drawMouseUp = (e) => {\n    isDrawing.current = false;\n\n    if (!isMoving.current) {\n      setLines(connectPoints(e, tool, lines));\n    } else {\n      isMoving.current = false;\n    }\n\n    setTimeout(() => {\n      dispatch(reducerSetLine(lines));\n    }, 1);\n  };\n\n  return {\n    lines,\n    drawMouseDown,\n    drawMouseMove,\n    drawMouseUp,\n    setDrawTool: setTool,\n  };\n}\n\nexport default useDraw;\n","import { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\n\nconst states = [\n  // idle state\n  {\n    isPlacing: false,\n    isPlaced: false,\n  },\n  // active state\n  {\n    isPlacing: true,\n    isPlaced: false,\n  },\n  // completed state\n  {\n    isPlacing: false,\n    isPlaced: true,\n  },\n];\n\nfunction usePlacing(enabled = false) {\n  const index = useRef(0)\n  const [currentState, setCurrentState] = useState(states[index.current]);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  function reset() {\n    index.current = 0;\n    setCurrentState(states[0]);\n  }\n\n  function next(x, y) {\n    if (x && y) {\n      setPosition({ x, y });\n    }\n    if (index.current === states.length - 1) {\n      reset();\n    } else {\n      index.current = index.current + 1;\n      setCurrentState(states[index.current]);\n    }\n  }\n\n  useEffect(() => {\n    if (enabled) {\n      index.current = 1;\n      setCurrentState(states[1]);\n    }\n  }, [enabled]);\n\n  return {\n    state: currentState,\n    reset,\n    position,\n    next,\n  };\n}\n\nexport default usePlacing;\n","import { useEffect, useState } from \"react\";\nimport { Stage, Rect, Layer } from \"react-konva\";\nimport { connect, ReactReduxContext, Provider } from \"react-redux\";\nimport debounce from \"lodash-es/debounce\";\n\n// commponents\nimport Tools from \"features/tools\";\nimport AddNoteModal from \"features/note/addNoteModal\";\nimport LayerManager from \"canvas/layerManager\";\nimport Placer from \"components/placer\";\nimport FlyingTextInput from \"features/text/flyingTextInput\";\n\n// state\nimport { setTool } from \"features/tools/toolSlice\";\nimport { clearActiveNote } from \"features/note/noteSlice\";\nimport { addItem, deleteItem, updateItem } from 'canvas/canvasSlice';\nimport { clearActiveText } from 'features/text/textSlice'\n\n// other\nimport { DRAW, ERASE, NOTE, POINTER, TEXT } from \"features/tools/constants\";\nimport useDraw from \"features/draw/useDraw\";\nimport usePlacing from \"hooks/usePlacing\";\nimport bgPattern from \"assets/bg-pattern2.png\";\nimport KEYS from \"utils/KEYS\";\n\n// for retina perf, set tip #9 https://konvajs.org/docs/performance/All_Performance_Tips.html\n// import Konva from \"konva\";\n// Konva.pixelRatio = 1;\n\nfunction Canvas({\n  currentTool,\n  setTool,\n  canvasItems,\n  editNote,\n  clearActiveNote,\n  newNote,\n  lastShortcut,\n  clearActiveText,\n  editText,\n  deleteItem,\n  addItem,\n  updateItem\n}) {\n  const { lines, drawMouseDown, drawMouseMove, drawMouseUp, setDrawTool } = useDraw();\n  const [stageDim, setStageDim] = useState({ w: window.innerWidth, h: window.innerHeight });\n  const [bgImageLoadded, setBgImageLoadded] = useState(false);\n  const notePlacing = usePlacing(NOTE === currentTool);\n  const textPlacing = usePlacing(TEXT === currentTool);\n\n  const bgImage = new Image();\n  bgImage.onload = () => {\n    setBgImageLoadded(true);\n  };\n  bgImage.src = bgPattern;\n\n  useEffect(() => {\n    setDrawTool(currentTool);\n  }, [currentTool, setDrawTool]);\n\n  useEffect(() => {\n    if (lastShortcut === KEYS.del) {\n      deleteItem()\n    }\n  }, [lastShortcut, deleteItem])\n\n  useEffect(() => {\n    function onResize() {\n      setStageDim({ w: window.innerWidth, h: window.innerHeight });\n    }\n    const debouncedResize = debounce(onResize, 25);\n    window.addEventListener(\"resize\", debouncedResize);\n\n    return function cleanup() {\n      window.removeEventListener(\"resize\", debouncedResize);\n    };\n  }, []);\n\n  return (\n    <>\n      <ReactReduxContext.Consumer>\n        {({ store }) => (\n          <Stage\n            width={stageDim.w}\n            height={stageDim.h}\n            tabIndex={0}\n            onMouseDown={(e) => {\n              if (currentTool === DRAW || currentTool === ERASE) {\n                drawMouseDown(e);\n              }\n            }}\n            onMousemove={(e) => {\n              if (currentTool === DRAW || currentTool === ERASE) {\n                drawMouseMove(e);\n              }\n            }}\n            onMouseup={(e) => {\n              if (currentTool === DRAW || currentTool === ERASE) {\n                drawMouseUp(e);\n              }\n            }}\n            className={`whiteboard cursor-${currentTool}`}\n          >\n            {/* Background pattern layer */}\n            <Layer listening={false}>\n              {bgImageLoadded && (\n                <Rect\n                  x={0}\n                  y={0}\n                  width={stageDim.w}\n                  height={stageDim.h}\n                  fillPatternImage={bgImage}\n                  listening={false}\n                />\n              )}\n            </Layer>\n            <Provider store={store}>\n              <LayerManager items={canvasItems.items} lines={lines} newNote={newNote} />\n            </Provider>\n          </Stage>\n        )}\n      </ReactReduxContext.Consumer>\n\n      {notePlacing.state.isPlacing && (\n        <Placer\n          width=\"200\"\n          height=\"200\"\n          onFinish={(x, y) => {\n            notePlacing.next(x, y);\n          }}\n          onCancel={() => {\n            notePlacing.reset();\n            setTool(POINTER);\n          }}\n        />\n      )}\n\n      {textPlacing.state.isPlacing && (\n        <Placer\n          width=\"400\"\n          height=\"80\"\n          onFinish={(x, y) => {\n            textPlacing.next(x, y);\n          }}\n          onCancel={() => {\n            textPlacing.reset();\n            setTool(POINTER);\n          }}\n        />\n      )}\n\n      <Tools />\n\n      {textPlacing.state.isPlaced && (\n        <FlyingTextInput\n          x={textPlacing.position.x}\n          y={textPlacing.position.y}\n          onSave={(text) => {\n            addItem(text);\n            setTool(POINTER);\n            clearActiveText();\n            textPlacing.reset();\n          }}\n          onCancel={() => {\n            setTool(POINTER);\n            clearActiveText();\n            textPlacing.reset();\n          }}\n        />\n      )}\n\n      {editText && (\n        <FlyingTextInput\n          x={editText.x}\n          y={editText.y}\n          textData={editText}\n          onSave={(updatedTextData) => {\n            updateItem(updatedTextData);\n            setTool(POINTER);\n            clearActiveText();\n          }}\n          onCancel={() => {\n            setTool(POINTER);\n            clearActiveText();\n          }}\n        />\n      )}\n\n      {(notePlacing.state.isPlaced || editNote) && (\n        <AddNoteModal\n          note={editNote}\n          x={notePlacing.position.x}\n          y={notePlacing.position.y}\n          onClose={() => {\n            setTool(POINTER);\n            clearActiveNote();\n            notePlacing.reset();\n          }}\n        />\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  currentTool: state.tool.cursor,\n  canvasItems: state.canvas.present,\n  editNote: state.note.activeNote,\n  newNote: state.note.newNote,\n  editText: state.text.activeText\n});\n\nconst mapDispatchToProps = {\n  setTool,\n  clearActiveNote,\n  clearActiveText,\n  deleteItem,\n  addItem,\n  updateItem\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Canvas);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAB50lEQVR4Xu3VPU9UUQAG4UMClAQlrBRrIVJLKf+/glJqPgq2kDWCoVsw0YSCim4p5obn/oCTuTN5z9lYrVb/hi9jYEOQTItnEEFaPQSJ9RBEkJqBGI83RJCYgRiOhQgSMxDDsRBBYgZiOBYiSMxADMdCBIkZiOFYiCAxAzEcCxEkZiCGYyGCxAzEcCxEkJiBGI6FCBIzEMOxEEFiBmI4FiJIzEAMx0IEiRmI4ViIIDEDMRwLESRmIIZjIYLEDMRwLESQmIEYjoUIEjMQw5nMQh6f/o7F7Z+x/P0wZns7Y/5pd2xvbcZ0ro8zmSBXN7/G2fnFyx9//3Y0Dj/vr28gdsJkgpz+uBzXi+WLvi/z2Tg5/hrTuT7OZIJYyPqx3/SE5zfk5/1Y3j2M2cedMT/44A15U8MOe9XAZK6s99JPkFhpQQSJGYjhWIggMQMxHAsRJGYghmMhgsQMxHAsRJCYgRiOhQgSMxDDsRBBYgZiOBYiSMxADMdCBIkZiOFYiCAxAzEcCxEkZiCGYyGCxAzEcCxEkJiBGI6FCBIzEMOxEEFiBmI4FiJIzEAMx0IEiRmI4ViIIDEDMRwLESRmIIZjIYLEDMRwLESQmIEYjoUIEjMQw7EQQWIGYjgWIkjMQAzHQgSJGYjh/Adx+KvcF/eo4AAAAABJRU5ErkJggg==\"","import useShortcuts from \"hooks/useShortcuts\";\n\nimport Canvas from 'canvas';\n\nfunction App() {\n  const { lastShortcut } = useShortcuts();\n\n  return (\n    <div className=\"App\">\n      <Canvas lastShortcut={lastShortcut}/>\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\nimport undoable from \"redux-undo\";\nimport canvasReducer from \"canvas/canvasSlice\";\nimport toolReducer from \"features/tools/toolSlice\";\nimport noteReducer from \"features/note/noteSlice\";\nimport textReducer from 'features/text/textSlice';\n\nexport default combineReducers({\n  tool: toolReducer,\n  canvas: undoable(canvasReducer),\n  note: noteReducer,\n  text: textReducer\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"app/rootReducer\";\n\nconst store = configureStore({\n  reducer: rootReducer,\n  // middleware: (getDefaultMiddleware) =>\n  //   getDefaultMiddleware({\n  //     immutableCheck: false,\n  //     serializableCheck: false,\n  //   }),\n});\n\nexport default store;\n","import \"styles/global.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"app/App\";\nimport store from \"app/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note\":\"addNoteModal_note__gFYx9\",\"textarea\":\"addNoteModal_textarea__12CPn\",\"textContainer\":\"addNoteModal_textContainer__2ESK8\",\"textEdit\":\"addNoteModal_textEdit__2C1sA\",\"actions\":\"addNoteModal_actions__OuQAq\",\"colors\":\"addNoteModal_colors__iM_1T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"slider_container__2Tm_d\",\"range\":\"slider_range__1xNOW\",\"example\":\"slider_example__313gz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsContainer\":\"drawSettings_settingsContainer__3BARp\",\"show\":\"drawSettings_show__1IpqZ\",\"slider\":\"drawSettings_slider__s1xYo\",\"px\":\"drawSettings_px__239md\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dragContainer\":\"draggable_dragContainer__37P1o\",\"handle\":\"draggable_handle__2zrDe\",\"keyMoving\":\"draggable_keyMoving__j1IX4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldset\":\"colorPicker_fieldset__B-ZSC\",\"radio\":\"colorPicker_radio__2wjUZ\",\"wrap\":\"colorPicker_wrap___SnW6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputContainer\":\"flyingTextInput_inputContainer__OjZHS\",\"input\":\"flyingTextInput_input__12fUF\"};"],"sourceRoot":""}